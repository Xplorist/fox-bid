(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9dd57f80"],{3150:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"main"},[o("section",{staticClass:"main-cont"},[o("div",{staticClass:"type-area"},[o("div",{staticClass:"header"},[e._m(0),o("div",{staticClass:"hea_right"},[o("router-link",{attrs:{to:"/"}},[e._v("返回首頁")])],1)]),o("div",{staticClass:"prin"},[o("div",{staticClass:"pri-bgBox"},[o("div",{staticClass:"pri-loginBox"},[o("div",{staticClass:"login-logo"}),"login"==e.nowStatus?o("div",{staticClass:"login_content"},[o("div",{staticClass:"title"},[e._v("登錄")]),o("el-form",{ref:"formLogin",attrs:{"status-icon":"",model:e.formLogin,rules:e.rulesLogin,"label-width":"50px","label-position":"left"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e._login()}}},[o("el-form-item",{staticClass:"name",attrs:{label:"用戶",prop:"name"}},[o("el-input",{attrs:{placeholder:"請輸入您的用戶名"},model:{value:e.formLogin.name,callback:function(t){e.$set(e.formLogin,"name",t)},expression:"formLogin.name"}})],1),o("el-form-item",{staticClass:"psd",attrs:{label:"密碼",prop:"psd"}},[o("el-input",{attrs:{type:"password","show-password":"",placeholder:"請輸入您的密碼"},model:{value:e.formLogin.psd,callback:function(t){e.$set(e.formLogin,"psd",t)},expression:"formLogin.psd"}})],1)],1),o("div",{staticClass:"opreation"},[o("div",{staticClass:"autoLogin"}),o("div",{staticClass:"forget_register"},[o("router-link",{attrs:{to:""},nativeOn:{click:function(t){return e.changeStatue("forgot")}}},[e._v("忘記密碼")]),o("router-link",{attrs:{to:"/merchant"}},[e._v("立即註冊")])],1)]),o("div",{staticClass:"nextBtn",on:{click:function(t){return e._login()}}},[e._v("立即登錄")])],1):"forgot"==e.nowStatus?o("div",{staticClass:"forgot_content"},[o("div",{staticClass:"title"},[e._v("找回密碼")]),o("el-form",{ref:"formForgot",attrs:{"status-icon":"",model:e.formForgot,rules:e.rulesForgot},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e._confirm()}}},[o("el-form-item",{staticClass:"account",attrs:{prop:"account"}},[o("el-input",{attrs:{placeholder:"請輸入您的賬號"},model:{value:e.formForgot.account,callback:function(t){e.$set(e.formForgot,"account",t)},expression:"formForgot.account"}}),o("el-button",{attrs:{disabled:e.getCodeFlag},on:{click:function(t){return e.getCode()}}},[e._v(e._s(e.getCodeFlag?"已發送("+e.countdown+")":"發送驗證碼"))]),o("span",{directives:[{name:"show",rawName:"v-show",value:e.getCodeFlag,expression:"getCodeFlag"}],staticClass:"tip"},[e._v("已發往"+e._s(e.formForgot.email))])],1),o("el-form-item",{staticClass:"verifCode",attrs:{prop:"verifCode"}},[o("el-input",{attrs:{placeholder:"請輸入驗證碼"},model:{value:e.formForgot.verifCode,callback:function(t){e.$set(e.formForgot,"verifCode",t)},expression:"formForgot.verifCode"}}),o("span",{directives:[{name:"show",rawName:"v-show",value:e.verifCodeFlag,expression:"verifCodeFlag"}],staticClass:"tip"},[e._v("驗證碼錯誤！")])],1)],1),o("div",{staticClass:"opreation"},[o("div"),o("div",{staticClass:"forget_register"},[o("router-link",{attrs:{to:""},nativeOn:{click:function(t){return e.changeStatue("login")}}},[e._v("返回")])],1)]),o("div",{staticClass:"nextBtn",on:{click:function(t){return e._confirm()}}},[e._v("確認")])],1):o("div",{staticClass:"alter_content"},[o("div",{staticClass:"title"},[e._v("修改密碼")]),o("el-form",{ref:"formAlter",attrs:{"status-icon":"",model:e.formAlter,rules:e.rulesAlter},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e._submit()}}},[o("el-form-item",{staticClass:"psd",attrs:{prop:"psd"}},[o("el-input",{attrs:{type:"password","show-password":"",placeholder:"請輸入新密碼"},model:{value:e.formAlter.psd,callback:function(t){e.$set(e.formAlter,"psd",t)},expression:"formAlter.psd"}})],1),o("el-form-item",{staticClass:"checkPsd",attrs:{prop:"checkPsd"}},[o("el-input",{attrs:{type:"password","show-password":"",placeholder:"請再次輸入密碼"},model:{value:e.formAlter.checkPsd,callback:function(t){e.$set(e.formAlter,"checkPsd",t)},expression:"formAlter.checkPsd"}})],1)],1),o("div",{staticClass:"opreation"},[o("div"),o("div",{staticClass:"forget_register"},[o("router-link",{attrs:{to:""},nativeOn:{click:function(t){return e.changeStatue("forgot")}}},[e._v("返回")])],1)]),o("div",{staticClass:"nextBtn",on:{click:function(t){return e._submit()}}},[e._v("確認")])],1)])])])])]),o("Footer")],1)},s=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"hea_left"},[o("div",{staticClass:"text1"},[o("span",[e._v("模治檢具")]),o("span",[e._v("招投標平台")])]),o("div",{staticClass:"text2"},[e._v("通行證")])])}],n=(o("8e6e"),o("ac6a"),o("456d"),o("7f7f"),o("bd86")),i=o("fd2d"),a=o("2f62"),c=o("5c96"),l=o("c24f"),u=o("3ebc");function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(o,!0).forEach((function(t){Object(n["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var m={data:function(){return{formLogin:{name:"",psd:""},rulesLogin:{name:[{required:!0,message:"請輸入賬號名",trigger:"blur"},{max:16,message:"長度不超過16個字符",trigger:"blur"}],psd:[{required:!0,message:"請輸入密碼"}]},formForgot:{account:"",verifCode:""},rulesForgot:{account:[{required:!0,message:"請先輸入賬號",trigger:"blur"}],email:"",verifCode:[{required:!0,message:"還未輸入驗證碼",trigger:"blur"}]},formAlter:{psd:"",checkPsd:""},rulesAlter:{psd:[{required:!0,message:"不能為空"},{min:4,max:16,message:"密碼長度為4-16"}],checkPsd:[{required:!0,message:"不能為空"}]},autoLogin:!1,nowStatus:"login",getCodeFlag:!1,countdown:60,verifCodeFlag:!1,account:"",verifCode:""}},methods:d({},Object(a["b"])({get_username:"get_username",get_token:"get_token",get_userInfo:"get_userInfo",get_porImgUrl:"get_porImgUrl"}),{_submit:function(){var e=this;this.$refs["formAlter"].validate((function(t){if(t){if(e.formAlter.psd!==e.formAlter.checkPsd)return e.$message.error("密碼不一致，請檢查！");var o={username:e.account,password:e.$md5(e.formAlter.psd),code:e.verifCode};Object(l["h"])(o).then((function(t){"1"===t.code?(e.$message.success("修改成功，請登錄！"),e.changeStatue("login")):e.$message.error(t.msg)}))}}))},getCode:function(){var e=this;this.$refs["formForgot"].validateField("account",(function(t){if(t)return!1;var o={username:e.formForgot.account};Object(l["c"])(o).then((function(t){if("1"===t.code){e.account=e.formForgot.account,e.formForgot.email=t.t,e.getCodeFlag=!0;var o=e,r=setInterval((function(){o.countdown<=0?(o.getCodeFlag=!1,o.countdown=60,clearInterval(r)):o.countdown--}),1e3)}else e.$message.error(t.msg)}))}))},changeStatue:function(e){this.$refs["formLogin"]?(this.$refs["formLogin"].clearValidate(),this.formLogin.name&&(this.formForgot.account=this.formLogin.name)):this.$refs["formForgot"]?this.$refs["formForgot"].resetFields():this.$refs["formAlter"].resetFields(),this.nowStatus=e},_confirm:function(){var e=this;if(!this.getCodeFlag)return this.$message.warning("請先獲取驗證碼！");this.$refs["formForgot"].validateField("verifCode",(function(t){if(!t){var o={username:e.account,code:e.formForgot.verifCode};Object(l["a"])(o).then((function(t){"1"===t.code?(e.verifCode=o.code,e.$message.info("驗證成功，請設置您的新密碼！"),e.changeStatue("alter")):e.$message.error(t.msg)}))}}))},_login:function(){var e=this;this.$refs["formLogin"].validate((function(t){if(!t)return!1;var o={username:e.formLogin.name,password:e.$md5(e.formLogin.psd),callbackName:"jsonpFunc"},r="/bidsso/";e.$jsonp(r+"login",o).then((function(t){"1"===t.code?(e.get_username(e.formLogin.name),e.get_token(t.t.token),e.getInfo(),c["Message"].success(t.msg)):c["Message"].error(t.msg)}))}))},getInfo:function(){var e=this,t=this.username;Object(l["d"])(t).then((function(t){"1"===t.code?(e.get_userInfo(t.t),"send"===t.t.send_recv_type?e.$router.push("/demand"):"system"===t.t.send_recv_type?e.$router.push("/admin"):e.$router.push("/"),e.get_porImgUrl(Object(u["b"])())):c["Message"].error(t.msg)})).catch((function(t){e.$message.error(t)}))}}),computed:d({},Object(a["c"])({username:function(e){return e.username},userInfo:function(e){return e.userInfo}})),components:{Footer:i["a"]}},g=m,p=(o("4db0"),o("2877")),v=Object(p["a"])(g,r,s,!1,null,"0f3bdc67",null);t["default"]=v.exports},"3ebc":function(e,t,o){"use strict";o.d(t,"b",(function(){return s})),o.d(t,"a",(function(){return n}));var r=o("fcc2");function s(e,t,o){var s=encodeURIComponent(e||r["a"].userInfo.user_pic_file.file_save_path),n=encodeURIComponent(t||r["a"].userInfo.user_pic_file.file_save_name),i=encodeURIComponent(o||r["a"].userInfo.user_pic_file.file_origin_name),a="/bid/api/bidding/pic_show/load",c=a+"?file_save_path="+s+"&file_save_name="+n+"&file_origin_name="+i;return c}function n(e,t,o){var r=encodeURIComponent(e),s=encodeURIComponent(t),n=encodeURIComponent(o),i="/bidding/pic_show/download",a=i+"?file_save_path="+r+"&file_save_name="+s+"&file_origin_name="+n;return a}},4149:function(e,t,o){},"4db0":function(e,t,o){"use strict";var r=o("4149"),s=o.n(r);s.a}}]);
//# sourceMappingURL=chunk-9dd57f80.4ee424c8.js.map