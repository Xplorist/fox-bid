(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fda178a"],{"0519":function(e,t,r){e.exports=r.p+"img/LOGO.eb740090.png"},"3f5e":function(e,t,r){"use strict";r.d(t,"d",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return n}));var s=r("365c");function a(e){var t="/bidding/ftp_file/upload",r="multipart/form-data";return s["a"].post(t,e,r)}function o(e){var t="/bidding/ftp_file/delete";return s["a"].post(t,e)}function i(e){var t="/bidding/bill/delete_part_doc_file_by_pkid";return s["a"].post(t,e)}function n(e){return s["a"].getWithToken(e)}},"885f":function(e,t,r){},b4a9:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"entrySec"},[r("Top"),r("Logo"),r("section",{staticClass:"ent-sec-cont"},[r("div",{staticClass:"main type-area"},[r("div",{staticClass:"form-box"},[r("div",{staticClass:"form-title"},[r("span",[e._v("填寫資料")]),r("div",{staticClass:"tit-describe"},[r("span",[e._v("我是"+e._s("recv"==e.category?"接單方":"需求方"))]),"recv"==e.category?r("span",[e._v("承接模治檢具加工、設計。")]):r("span",[e._v("發佈模治檢具加工、設計需求。")])])]),r("div",{staticClass:"form-info"},[r("div",{staticClass:"form-left"},[r("el-form",{ref:"formOne",attrs:{"status-icon":"",model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{staticClass:"logo",attrs:{label:"LOGO:"}},[r("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:e.form.logoUrl,fit:"cover"}}),r("span",{on:{click:e.upImg}},[e._v("上傳")]),r("input",{ref:"fileInp",staticClass:"dis_none",attrs:{type:"file"},on:{change:e.getFile}}),r("span",[e._v("200px*200px以上，不超過1M")])],1),r("el-form-item",{staticClass:"name",attrs:{label:"賬號名稱:",prop:"name"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{staticClass:"psd",attrs:{label:"密码:",prop:"psd"}},[r("el-input",{attrs:{"show-password":""},model:{value:e.form.psd,callback:function(t){e.$set(e.form,"psd",t)},expression:"form.psd"}})],1),r("el-form-item",{staticClass:"conpsd",attrs:{label:"确认密码:",prop:"conpsd"}},[r("el-input",{attrs:{"show-password":""},model:{value:e.form.conpsd,callback:function(t){e.$set(e.form,"conpsd",t)},expression:"form.conpsd"}})],1),r("el-form-item",{staticClass:"factory",attrs:{label:"所屬廠區:",prop:"factory"}},[r("el-select",{attrs:{placeholder:""},nativeOn:{click:function(t){return e._query_factory_list()}},model:{value:e.form.factory,callback:function(t){e.$set(e.form,"factory",t)},expression:"form.factory"}},e._l(e.factory_list,(function(e,t){return r("el-option",{key:e.list_order,attrs:{label:e.name||t,value:e.name}})})),1)],1),r("el-form-item",{staticClass:"bussiness",attrs:{label:"事業群:",prop:"bussiness"}},[r("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearchGroup},on:{select:function(t){return e._query_PD_OFFICE_list()}},nativeOn:{change:function(t){return e._query_PD_OFFICE_list()}},model:{value:e.form.bussiness,callback:function(t){e.$set(e.form,"bussiness","string"===typeof t?t.trim():t)},expression:"form.bussiness"}})],1),r("el-form-item",{staticClass:"bureau",attrs:{label:"產品處:",prop:"bureau"}},[r("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearchOffice},model:{value:e.form.bureau,callback:function(t){e.$set(e.form,"bureau","string"===typeof t?t.trim():t)},expression:"form.bureau"}})],1),r("el-form-item",{staticClass:"departCode",attrs:{label:"單位代碼:",prop:"departCode"}},[r("el-input",{model:{value:e.form.departCode,callback:function(t){e.$set(e.form,"departCode","string"===typeof t?t.trim():t)},expression:"form.departCode"}})],1),r("el-form-item",{staticClass:"departName",attrs:{label:"單位名稱:",prop:"departName"}},[r("el-input",{model:{value:e.form.departName,callback:function(t){e.$set(e.form,"departName",t)},expression:"form.departName"}})],1)],1)],1),r("div",{staticClass:"form-right"},[r("el-form",{ref:"formTwo",attrs:{"status-icon":"",model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{staticClass:"corporate",attrs:{label:"交易法人:",prop:"corporate"}},[r("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchLegalList},on:{select:e.handleSelectLegal},model:{value:e.form.corporate,callback:function(t){e.$set(e.form,"corporate","string"===typeof t?t.trim():t)},expression:"form.corporate"}})],1),r("el-form-item",{staticClass:"costCode",attrs:{label:"費用代碼:",prop:"costCode"}},[r("el-input",{model:{value:e.form.costCode,callback:function(t){e.$set(e.form,"costCode","string"===typeof t?t.trim():t)},expression:"form.costCode"}})],1),"send"!=e.category?r("el-form-item",{staticClass:"processRange",attrs:{label:"加工範圍:",prop:"processRange"}},[r("el-select",{attrs:{multiple:"",placeholder:"請選擇加工範圍"},nativeOn:{click:function(t){return e.getRange(t)}},model:{value:e.form.processRange,callback:function(t){e.$set(e.form,"processRange",t)},expression:"form.processRange"}},e._l(e.rangeOptions,(function(e){return r("el-option",{key:e.pkid,attrs:{label:e.name,value:e.name}})})),1)],1):e._e(),r("el-form-item",{staticClass:"manager",attrs:{label:"業務窗口:",prop:"manager"}},[r("el-input",{model:{value:e.form.manager,callback:function(t){e.$set(e.form,"manager","string"===typeof t?t.trim():t)},expression:"form.manager"}})],1),r("el-form-item",{staticClass:"tel",attrs:{label:"固定電話:",prop:"tel"}},[r("el-input",{attrs:{placeholder:"廠區內電話"},model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel","string"===typeof t?t.trim():t)},expression:"form.tel"}})],1),r("el-form-item",{staticClass:"tel",attrs:{label:"移動電話:",prop:"mobile"}},[r("el-input",{model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile","string"===typeof t?t.trim():t)},expression:"form.mobile"}})],1),r("el-form-item",{staticClass:"email",attrs:{label:"公司郵箱:",prop:"email"}},[r("el-input",{attrs:{placeholder:"請輸入內部Email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("el-form-item",{staticClass:"intro",attrs:{label:"簡介:",prop:"intro"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.intro,callback:function(t){e.$set(e.form,"intro",t)},expression:"form.intro"}})],1)],1)],1)]),r("div",{staticClass:"form-chooseBtn",on:{click:function(t){return e.submit("formOne","formTwo")}}},[r("router-link",{attrs:{to:""}},[r("svg",{attrs:{width:"265px",height:"65px",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[r("polygon",{staticStyle:{fill:"none",stroke:"#0096FF","stroke-width":"1"},attrs:{points:"0,5 5,0 260,0 265,5 265,60 260,65 5,65 0,60 0,5"}}),r("rect",{staticStyle:{fill:"#0096FF"},attrs:{x:"2",y:"2",width:"261",height:"61"}}),r("polyline",{staticStyle:{fill:"none",stroke:"#3FB0FF","stroke-width":"2"},attrs:{points:"10,13 10,6 6,6 6,10 13,10 13,6 252,6 252,10 259,10 259,6 255,6 255,13 259,13 259,52 255,52 255,59 259,59 259,55 252,55 252,59 13,59 13,55 6,55 6,59 10,59 10,52 6,52 6,14 11,14"}})]),r("span",[e._v("提交審核")])])],1)])])]),r("Footer")],1)},a=[],o=(r("ac4d"),r("8a81"),r("ac6a"),r("7f7f"),r("e9c9")),i=r("2241"),n=r("fd2d"),l=r("c0e7"),c=r("3f5e"),f={data:function(){var e=this,t=function(t,r,s){""===r?s(new Error("請再次輸入密碼")):r!==e.form.psd?s(new Error("兩次輸入密碼不一致!")):s()},s=function(t,r,s){""===r?s(new Error("请輸入名稱")):r.length<4||r.length>16?s(new Error("長度在 4 到 16 個字符")):e.ck_user(e.form.name,s)};return{form:{logoUrl:r("0519"),name:"",psd:"",conpsd:"",factory:"",group:"富士康次集團",bussiness:"",currentBussiness:"",bureau:"",departName:"",departCode:"",corporate:"",costCode:"",processRange:[],manager:"",tel:"",mobile:"",email:"",intro:""},rules:{name:[{required:!0,validator:s,trigger:"blur"}],psd:[{required:!0,message:"请输入密碼",trigger:"blur"},{min:4,max:16,message:"密碼長度為4-16"}],conpsd:[{required:!0,validator:t,trigger:"blur"}],factory:[{required:!0,message:"请選擇廠區",trigger:"change"}],group:[{required:!0,message:"请輸入次集團",trigger:"change"}],bussiness:[{required:!0,message:"请選擇事業群",trigger:"change"}],bureau:[{required:!0,message:"请選擇事業群",trigger:"change"}],departCode:[{required:!0,message:"單位代碼不能為空",trigger:"blur"}],departName:[{required:!0,message:"单位名称不能為空",trigger:"blur"}],corporate:[{required:!0,message:"交易法人不能為空",trigger:"blur"}],costCode:[{required:!0,message:"費用代碼不能為空",trigger:"blur"}],processRange:[{required:!0,message:"加工範圍不能為空",trigger:"blur"}],manager:[{required:!0,message:"業務窗口不能為空",trigger:"blur"}],tel:[{required:!0,message:"號碼不能为空",trigger:"blur"}],mobile:[{required:!0,message:"號碼不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能為空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],intro:[{max:100,message:"最長100個字符",trigger:"blur"}]},rangeOptions:[],category:"",factory_list:[],SECN_CMPY_list:[],ENTRPS_GROUP_list:[],PD_OFFICE_list:[],user_pic_file:null}},created:function(){var e=sessionStorage.getItem("merchangtCategory");e?this.category=e:this.$router.push("/merchant"),this._query_ENTRPS_GROUP_list()},methods:{querySearchLegalList:function(e,t){if(""==e)return t([]);var r={legal_person:e};Object(l["b"])(r).then((function(e){if("1"===e.code){if(e.t.length<=0)return t([{value:"暫無數據"}]);var r=e.t,s=[],a=!0,o=!1,i=void 0;try{for(var n,l=r[Symbol.iterator]();!(a=(n=l.next()).done);a=!0){var c=n.value,f={value:c.legal_person,pkid:c.pkid};s.push(f)}}catch(u){o=!0,i=u}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}t(s)}else t([{value:"無數據"}])}))},handleSelectLegal:function(){},queryDeptName:function(){var e=this;if(!this.form.factory)return this.$message.error("請先選擇廠區！");this.form.departCode=this.form.departCode.toUpperCase(),Object(l["j"])(this.form.departCode,this.form.factory).then((function(t){"1"===t.code?e.form.departName=t.t.dept_name:(e.form.departName="",e.$message.error("查詢失敗，請檢查單位代碼輸入正確！"))}))},getRange:function(){var e=this;Object(l["l"])().then((function(t){"1"===t.code?e.rangeOptions=t.t:e.$message.error(t.msg)}))},upImg:function(){this.$refs.fileInp.dispatchEvent(new MouseEvent("click"))},getFile:function(){var e=this,t=this.$refs.fileInp.files[0],r=window.URL||window.webkitURL;if(t){if("image/jpeg"!==t.type&&"image/png"!==t.type&&"image/gif"!==t.type)return void alert("請上傳圖片文件");var s=r.createObjectURL(t);this.form.logoUrl=s;var a=new FormData;a.append("file",t),a.append("file_type","user_pic"),Object(c["d"])(a).then((function(t){"1"===t.code?e.user_pic_file=t.t:e.$message.error(t.msg)}))}},ck_user:function(e,t){var r={username:e};Object(l["a"])(r).then((function(e){"0"==e.code?t(new Error("賬戶已存在!")):t()}))},_query_factory_list:function(){var e=this;Object(l["k"])().then((function(t){"1"===t.code?e.factory_list=t.t:e.$message.error(t.msg)}))},_query_SECN_CMPY_list:function(){},_query_ENTRPS_GROUP_list:function(){var e=this,t="";t="Foxconn",Object(l["e"])(t).then((function(t){"1"===t.code?(e.ENTRPS_GROUP_list=t.t,e._query_PD_OFFICE_list()):e.$message.error(t.msg)}))},querySearchGroup:function(e,t){var r=[];if(this.ENTRPS_GROUP_list.length>0){var s=!0,a=!1,o=void 0;try{for(var i,n=this.ENTRPS_GROUP_list[Symbol.iterator]();!(s=(i=n.next()).done);s=!0){var l=i.value,c={value:l.name,id:l.pkid};r.push(c)}}catch(f){a=!0,o=f}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}}t(r)},_query_PD_OFFICE_list:function(){var e=this,t="",r=!0,s=!1,a=void 0;try{for(var o,i=this.ENTRPS_GROUP_list[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var n=o.value;n.name==this.form.bussiness&&(t=n.pkid)}}catch(c){s=!0,a=c}finally{try{r||null==i.return||i.return()}finally{if(s)throw a}}if(!t)return this.PD_OFFICE_list=[];Object(l["f"])(t).then((function(t){"1"===t.code?e.PD_OFFICE_list=t.t:e.$message.error(t.msg)}))},querySearchOffice:function(e,t){var r=[];if(this.PD_OFFICE_list.length>0){var s=!0,a=!1,o=void 0;try{for(var i,n=this.PD_OFFICE_list[Symbol.iterator]();!(s=(i=n.next()).done);s=!0){var l=i.value,c={value:l.name,id:l.pkid};r.push(c)}}catch(f){a=!0,o=f}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}}t(r)},submit:function(e,t){var r=this;if(!this.category)return this.$message.error("請選擇賬號類型！");this.$refs[e].validate((function(e){if(!e)return!1;r.$refs[t].validate((function(e){if(!e)return!1;r.upload()}))}))},upload:function(){var e=this,t=[],r=!0,s=!1,a=void 0;try{for(var o,i=this.form.processRange[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var n=o.value;t.push({name:n})}}catch(f){s=!0,a=f}finally{try{r||null==i.return||i.return()}finally{if(s)throw a}}var c={username:this.form.name,password:this.$md5(this.form.psd),in_out_type:"in",send_recv_type:this.category,fctry_zone:this.form.factory,secn_cmpy:this.form.group,entrps_group:this.form.bussiness,pd_office:this.form.bureau,dept_name:this.form.departName,dept_code:this.form.departCode,legal_person:this.form.corporate,cost_code:this.form.costCode,bank_name:"",bank_acunt:"",busis_mngr:this.form.manager,tel:this.form.tel,phone:this.form.mobile,email:this.form.email,summary:this.form.intro,user_pic_file:this.user_pic_file,recv_range_list:t};Object(l["m"])(c).then((function(t){"1"===t.code?(e.$message.success("信息提交成功，請等待管理員審核！"),e.$router.push("/login")):e.$message.error(t.msg)}))}},components:{Top:o["a"],Logo:i["a"],Footer:n["a"]}},u=f,m=(r("df56"),r("2877")),p=Object(m["a"])(u,s,a,!1,null,"1dd1cf0d",null);t["default"]=p.exports},df56:function(e,t,r){"use strict";var s=r("885f"),a=r.n(s);a.a}}]);
//# sourceMappingURL=chunk-7fda178a.8b376cc2.js.map