(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3531aa0c"],{1302:function(e,t,r){e.exports=r.p+"img/portrait.017effe5.png"},"3aca":function(e,t,r){"use strict";var o=r("a234"),n=r.n(o);n.a},"3f5e":function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var o=r("365c");function n(e){var t="/api/ftp_file/upload",r="multipart/form-data";return o["a"].post(t,e,r)}function a(e){var t="/api/ftp_file/delete";return o["a"].post(t,e)}function s(e){var t="/api/bill/delete_part_doc_file_by_pkid";return o["a"].post(t,e)}},"7f7f":function(e,t,r){var o=r("86cc").f,n=Function.prototype,a=/^\s*function ([^ (]*)/,s="name";s in n||r("9e1e")&&o(n,s,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},a234:function(e,t,r){},aef7:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"information"}},[r("div",{staticClass:"main_title"},[e._v("個人資料")]),r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{staticClass:"properties",attrs:{label:"賬號屬性:"}},[r("span",[e._v(e._s(e.form.properties))])]),r("el-form-item",{staticClass:"portrait",attrs:{label:"LOGO頭像:"}},[r("el-image",{staticStyle:{width:"60px",height:"60px"},attrs:{src:e.form.portraitUrl,fit:"cover"}}),r("input",{ref:"fileInp",staticClass:"dis_none",attrs:{type:"file"},on:{change:e.getFile}}),r("span",{on:{click:e.upImg}},[e._v("更換")])],1),r("el-form-item",{attrs:{label:"賬號名稱:"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{staticClass:"department",attrs:{label:"所屬單位:"}},[r("el-select",{model:{value:e.form.department.fctry_zone,callback:function(t){e.$set(e.form.department,"fctry_zone",t)},expression:"form.department.fctry_zone"}},e._l(e.form.departmentList.fctry_zone,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1),r("el-select",{model:{value:e.form.department.secn_cmpy,callback:function(t){e.$set(e.form.department,"secn_cmpy",t)},expression:"form.department.secn_cmpy"}},e._l(e.form.departmentList.secn_cmpy,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1),r("el-select",{model:{value:e.form.department.entrps_group,callback:function(t){e.$set(e.form.department,"entrps_group",t)},expression:"form.department.entrps_group"}},e._l(e.form.departmentList.entrps_group,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1),r("el-select",{model:{value:e.form.department.pd_office,callback:function(t){e.$set(e.form.department,"pd_office",t)},expression:"form.department.pd_office"}},e._l(e.form.departmentList.pd_office,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),r("el-form-item",{attrs:{label:"單位名稱:"}},[r("el-input",{model:{value:e.form.departName,callback:function(t){e.$set(e.form,"departName",t)},expression:"form.departName"}})],1),r("el-form-item",{attrs:{label:"交易法人:"}},[r("span",[e._v(e._s(e.form.corporate))])]),r("el-form-item",{staticClass:"costCode",attrs:{label:"費用代碼:"}},[r("span",[e._v(e._s(e.form.costCode))]),r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.open("costCode")}}},[e._v(" 變更")])],1),"in"!=e.form.in_out_type?r("el-form-item",{staticClass:"processRange",attrs:{label:"加工範圍:"}},[r("span",[e._v(e._s(e.form.processRange))]),r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.open("processRange")}}},[e._v(" 修改")])],1):e._e(),"in"!=e.form.in_out_type?r("el-form-item",{staticClass:"bankAccount",attrs:{label:"銀行賬號:"}},[r("span",[e._v(e._s(e.form.bankName)+" "+e._s(e.form.bankAccount))]),r("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("變更賬號")])],1):e._e(),r("el-dialog",{attrs:{title:"請修改銀行賬號",width:"400px;",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{attrs:{model:e.alertForm}},[r("el-form-item",{attrs:{label:"銀行名稱"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.alertForm.bankName,callback:function(t){e.$set(e.alertForm,"bankName",t)},expression:"alertForm.bankName"}})],1),r("el-form-item",{attrs:{label:"銀行賬號"}},[r("el-input",{attrs:{placeholder:""},model:{value:e.alertForm.bankAccount,callback:function(t){e.$set(e.alertForm,"bankAccount",t)},expression:"alertForm.bankAccount"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.transmit("cancel")}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1,e.transmit("confirm")}}},[e._v("确 定")])],1)],1),r("el-form-item",{attrs:{label:"業務經理:"}},[r("el-input",{model:{value:e.form.manager,callback:function(t){e.$set(e.form,"manager",t)},expression:"form.manager"}})],1),r("el-form-item",{staticClass:"tel",attrs:{label:"聯繫電話:"}},[r("el-input",{model:{value:e.form.tel.num,callback:function(t){e.$set(e.form.tel,"num",t)},expression:"form.tel.num"}}),r("el-checkbox",{attrs:{label:"在主頁中顯示",checked:e.form.tel.check,name:"type"}})],1),r("el-form-item",{staticClass:"email",attrs:{label:"Email:"}},[r("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("el-form-item",{staticClass:"intro",attrs:{label:"簡介:"}},[r("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.form.intro,callback:function(t){e.$set(e.form,"intro",t)},expression:"form.intro"}})],1),r("el-form-item",{attrs:{label:" "}},[r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)},n=[],a=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),s=(r("7f7f"),r("3f5e")),i=r("2f62"),l=r("5c96");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(r,!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={data:function(){return{form:{properties:"集團內部賬號",portraitUrl:r("1302"),name:"SHZBG",department:{fctry_zone:"成都",secn_cmpy:"次集團",entrps_group:"事業群",pd_office:"處"},departmentList:{fctry_zone:["成都","深圳","鄭州"],secn_cmpy:["A","B","C","D","D"],entrps_group:["SHZBG","PCEBG","CCPBG","CNSBG","NWING","CMMSG"],pd_office:["處"]},departName:"",corporate:"",costCode:"",processRange:"",bankName:"",bankAccount:"",manager:"",tel:{num:"",check:!1},email:"",intro:"",in_out_type:""},dialogFormVisible:!1,alertForm:{bankName:"",bankAccount:""}}},mounted:function(){this.initData()},methods:{save:function(){0==Boolean(this.form.name)?l["Message"].error("賬號名稱不能為空"):0==Boolean(this.form.departName)?l["Message"].error("單位名稱不能為空"):0==Boolean(this.form.costCode)?l["Message"].error("費用代碼不能為空"):0==Boolean(this.form.processRange)&&"in"!==this.form.in_out_type?l["Message"].error("加工範圍不能為空"):0==Boolean(this.form.manager)?l["Message"].error("業務經理不能為空"):0==Boolean(this.form.tel)?l["Message"].error("聯繫電話不能為空"):0==Boolean(this.form.email)?l["Message"].error("Email不能為空"):l["Message"].success("已保存")},upImg:function(){this.$refs.fileInp.dispatchEvent(new MouseEvent("click"))},getFile:function(){var e=this.$refs.fileInp.files[0],t=window.URL||window.webkitURL;if(e){if("image/jpeg"!==e.type&&"image/png"!==e.type&&"image/gif"!==e.type)return void alert("請選擇圖片文件");var r=t.createObjectURL(e);this.form.portraitUrl=r;var o=new FormData;o.append("file",e),o.append("file_type","user_pic"),Object(s["c"])(o).then((function(e){e.code}))}},initData:function(){this.form.portraitUrl=this.porImgUrl,this.form.name=this.userInfo.username,this.form.department.fctry_zone=this.userInfo.fctry_zone,this.form.department.secn_cmpy=this.userInfo.secn_cmpy,this.form.department.entrps_group=this.userInfo.entrps_group,this.form.department.pd_office=this.userInfo.pd_office,this.form.departName=this.userInfo.dept_name,this.form.corporate=this.userInfo.legal_person,this.form.costCode=this.userInfo.cost_code,this.form.processRange=this.userInfo.send_mnufc_range,this.form.bankName=this.userInfo.bank_name,this.form.bankAccount=this.userInfo.bank_acunt,this.form.manager=this.userInfo.busis_mngr,this.form.tel.num=this.userInfo.tel,this.form.email=this.userInfo.email,this.form.intro=this.userInfo.summary,this.form.in_out_type=this.userInfo.in_out_type},open:function(e){var t=this,r="costCode"==e?"費用代碼":"加工範圍";this.$prompt("请输入"+r,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputErrorMessage:r+"格式不正确"}).then((function(o){var n=o.value;t.$message({type:"success",message:"已修改"+r+"為: "+n}),"costCode"==e?t.form.costCode=n:t.form.processRange=n})).catch((function(){t.$message({type:"info",message:"取消输入"})}))},transmit:function(e){if("cancel"==e)this.$message({type:"info",message:"取消输入"});else{if("confirm"!=e)return;this.form.bankName=this.alertForm.bankName,this.form.bankAccount=this.alertForm.bankAccount,this.$message({type:"success",message:"修改成功"})}}},computed:m({},Object(i["c"])({userInfo:function(e){return e.userInfo},porImgUrl:function(e){return e.porImgUrl}}))},p=f,u=(r("3aca"),r("2877")),d=Object(u["a"])(p,o,n,!1,null,"1a709556",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-3531aa0c.cca4042b.js.map