(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43417700"],{"0519":function(e,t,r){e.exports=r.p+"img/LOGO.eb740090.png"},"386d":function(e,t,r){"use strict";var o=r("cb7c"),s=r("83a1"),a=r("5f1b");r("214f")("search",1,(function(e,t,r,n){return[function(r){var o=e(this),s=void 0==r?void 0:r[t];return void 0!==s?s.call(r,o):new RegExp(r)[t](String(o))},function(e){var t=n(r,e,this);if(t.done)return t.value;var i=o(e),l=String(this),c=i.lastIndex;s(c,0)||(i.lastIndex=0);var u=a(i,l);return s(i.lastIndex,c)||(i.lastIndex=c),null===u?-1:u.index}]}))},"3b2b":function(e,t,r){var o=r("7726"),s=r("5dbc"),a=r("86cc").f,n=r("9093").f,i=r("aae3"),l=r("0bfb"),c=o.RegExp,u=c,f=c.prototype,p=/a/g,m=/a/g,d=new c(p)!==p;if(r("9e1e")&&(!d||r("79e5")((function(){return m[r("2b4c")("match")]=!1,c(p)!=p||c(m)==m||"/a/i"!=c(p,"i")})))){c=function(e,t){var r=this instanceof c,o=i(e),a=void 0===t;return!r&&o&&e.constructor===c&&a?e:s(d?new u(o&&!a?e.source:e,t):u((o=e instanceof c)?e.source:e,o&&a?l.call(e):t),r?this:f,c)};for(var g=function(e){e in c||a(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},_=n(u),b=0;_.length>b;)g(_[b++]);f.constructor=c,c.prototype=f,r("2aba")(o,"RegExp",c)}r("7a56")("RegExp")},"3f5e":function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n}));var o=r("365c");function s(e){var t="/api/ftp_file/upload",r="multipart/form-data";return o["a"].post(t,e,r)}function a(e){var t="/api/ftp_file/delete";return o["a"].post(t,e)}function n(e){var t="/api/bill/delete_part_doc_file_by_pkid";return o["a"].post(t,e)}},4917:function(e,t,r){"use strict";var o=r("cb7c"),s=r("9def"),a=r("0390"),n=r("5f1b");r("214f")("match",1,(function(e,t,r,i){return[function(r){var o=e(this),s=void 0==r?void 0:r[t];return void 0!==s?s.call(r,o):new RegExp(r)[t](String(o))},function(e){var t=i(r,e,this);if(t.done)return t.value;var l=o(e),c=String(this);if(!l.global)return n(l,c);var u=l.unicode;l.lastIndex=0;var f,p=[],m=0;while(null!==(f=n(l,c))){var d=String(f[0]);p[m]=d,""===d&&(l.lastIndex=a(c,s(l.lastIndex),u)),m++}return 0===m?null:p}]}))},"7f7f":function(e,t,r){var o=r("86cc").f,s=Function.prototype,a=/^\s*function ([^ (]*)/,n="name";n in s||r("9e1e")&&o(s,n,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},"81cc":function(e,t,r){"use strict";var o=r("914a"),s=r.n(o);s.a},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"914a":function(e,t,r){},b4a9:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"entrySec"},[r("Top"),r("Logo"),r("section",{attrs:{id:"content"}},[r("div",{staticClass:"main type-area"},[r("div",{staticClass:"formBox"},[r("div",{staticClass:"form_title"},[r("span",[e._v("填寫資料")]),r("div",{staticClass:"tit_describe"},[r("span",[e._v("我是"+e._s("recv"==e.category?"接單方":"需求方"))]),"recv"==e.category?r("span",[e._v("承接模治檢具加工、設計。")]):r("span",[e._v("發佈模治檢具加工、設計需求。")])])]),r("div",{staticClass:"form_info"},[r("div",{staticClass:"formLeft"},[r("el-form",{ref:"formOne",attrs:{"status-icon":"",model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{staticClass:"logo",attrs:{label:"LOGO:"}},[r("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:e.form.logoUrl,fit:"cover"}}),r("span",{on:{click:e.upImg}},[e._v("上傳")]),r("input",{ref:"fileInp",staticClass:"dis_none",attrs:{type:"file"},on:{change:e.getFile}}),r("span",[e._v("200px*200px以上，不超過1M")])],1),r("el-form-item",{staticClass:"name",attrs:{label:"賬號名稱:",prop:"name"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{staticClass:"psd",attrs:{label:"密码:",prop:"psd"}},[r("el-input",{attrs:{"show-password":""},model:{value:e.form.psd,callback:function(t){e.$set(e.form,"psd",t)},expression:"form.psd"}})],1),r("el-form-item",{staticClass:"conpsd",attrs:{label:"确认密码:",prop:"conpsd"}},[r("el-input",{attrs:{"show-password":""},model:{value:e.form.conpsd,callback:function(t){e.$set(e.form,"conpsd",t)},expression:"form.conpsd"}})],1),r("el-form-item",{staticClass:"factory",attrs:{label:"所屬廠區:",prop:"factory"}},[r("el-select",{attrs:{placeholder:"請依次選擇"},nativeOn:{click:function(t){return e._query_factory_list()}},model:{value:e.form.factory,callback:function(t){e.$set(e.form,"factory",t)},expression:"form.factory"}},e._l(e.factory_list,(function(e,t){return r("el-option",{key:e.list_order,attrs:{label:e.name||t,value:e.pkid}})})),1)],1),r("el-form-item",{staticClass:"group",attrs:{label:"次集團:",prop:"group"}},[r("el-select",{attrs:{placeholder:"請依次選擇"},nativeOn:{click:function(t){return e._query_SECN_CMPY_list()}},model:{value:e.form.group,callback:function(t){e.$set(e.form,"group",t)},expression:"form.group"}},e._l(e.SECN_CMPY_list,(function(e,t){return r("el-option",{key:e.pkid||t,attrs:{label:e.name,value:e.pkid}})})),1)],1),r("el-form-item",{staticClass:"bussiness",attrs:{label:"事業群:",prop:"bussiness"}},[r("el-select",{attrs:{placeholder:"請依次選擇"},nativeOn:{click:function(t){return e._query_ENTRPS_GROUP_list()}},model:{value:e.form.bussiness,callback:function(t){e.$set(e.form,"bussiness",t)},expression:"form.bussiness"}},e._l(e.ENTRPS_GROUP_list,(function(e,t){return r("el-option",{key:e.pkid||t,attrs:{label:e.name,value:e.pkid}})})),1)],1),r("el-form-item",{staticClass:"bureau",attrs:{label:"處:",prop:"bureau"}},[r("el-select",{attrs:{placeholder:"請依次選擇"},nativeOn:{click:function(t){return e._query_PD_OFFICE_list()}},model:{value:e.form.bureau,callback:function(t){e.$set(e.form,"bureau",t)},expression:"form.bureau"}},e._l(e.PD_OFFICE_list,(function(e,t){return r("el-option",{key:e.pkid||t,attrs:{label:e.name,value:e.pkid}})})),1)],1),r("el-form-item",{staticClass:"departName",attrs:{label:"單位:",prop:"departName"}},[r("el-input",{model:{value:e.form.departName,callback:function(t){e.$set(e.form,"departName",t)},expression:"form.departName"}})],1)],1)],1),r("div",{staticClass:"formRight"},[r("el-form",{ref:"formTwo",attrs:{"status-icon":"",model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{staticClass:"corporate",attrs:{label:"交易法人:",prop:"corporate"}},[r("el-input",{model:{value:e.form.corporate,callback:function(t){e.$set(e.form,"corporate",t)},expression:"form.corporate"}})],1),r("el-form-item",{staticClass:"costCode",attrs:{label:"費用代碼:",prop:"costCode"}},[r("el-input",{model:{value:e.form.costCode,callback:function(t){e.$set(e.form,"costCode",t)},expression:"form.costCode"}})],1),"send"!=e.category?r("el-form-item",{staticClass:"processRange",attrs:{label:"加工範圍:",prop:"processRange"}},[r("el-input",{model:{value:e.form.processRange,callback:function(t){e.$set(e.form,"processRange",t)},expression:"form.processRange"}})],1):e._e(),r("el-form-item",{staticClass:"manager",attrs:{label:"業務經理:",prop:"manager"}},[r("el-input",{model:{value:e.form.manager,callback:function(t){e.$set(e.form,"manager",t)},expression:"form.manager"}})],1),r("el-form-item",{staticClass:"tel",attrs:{label:"聯繫電話:",prop:"tel"}},[r("el-input",{model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",e._n(t))},expression:"form.tel"}})],1),r("el-form-item",{staticClass:"email",attrs:{label:"Email:",prop:"email"}},[r("el-input",{attrs:{placeholder:"請輸入內部郵箱號"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("el-form-item",{staticClass:"intro",attrs:{label:"簡介:",prop:"intro"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.intro,callback:function(t){e.$set(e.form,"intro",t)},expression:"form.intro"}})],1)],1)],1)]),r("div",{staticClass:"form_chooseBtn",on:{click:function(t){return e.submit("formOne","formTwo")}}},[r("router-link",{attrs:{to:""}},[r("svg",{attrs:{width:"265px",height:"65px",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[r("polygon",{staticStyle:{fill:"none",stroke:"#0096FF","stroke-width":"1"},attrs:{points:"0,5 5,0 260,0 265,5 265,60 260,65 5,65 0,60 0,5"}}),r("rect",{staticStyle:{fill:"#0096FF"},attrs:{x:"2",y:"2",width:"261",height:"61"}}),r("polyline",{staticStyle:{fill:"none",stroke:"#3FB0FF","stroke-width":"2"},attrs:{points:"10,13 10,6 6,6 6,10 13,10 13,6 252,6 252,10 259,10 259,6 255,6 255,13 259,13 259,52 255,52 255,59 259,59 259,55 252,55 252,59 13,59 13,55 6,55 6,59 10,59 10,52 6,52 6,14 11,14"}})]),r("span",[e._v("提交審核")])])],1)])])]),r("Footer")],1)},s=[],a=(r("386d"),r("4917"),r("3b2b"),r("7f7f"),r("e9c9")),n=r("2241"),i=r("fd2d"),l=r("365c");function c(e){var t="/api/user/ck_user_is_exist";return l["a"].post(t,e)}function u(e){var t="/api/baseInfo/query_factory_list";return l["a"].post(t,e)}function f(e){var t="/api/baseInfo/query_SECN_CMPY_list";return e={fctry_zone_pkid:e},l["a"].post(t,e)}function p(e){var t="/api/baseInfo/query_ENTRPS_GROUP_list";return e={secn_cmpy_pkid:e},l["a"].post(t,e)}function m(e){var t="/api/baseInfo/query_PD_OFFICE_list";return e={entrps_group_pkid:e},l["a"].post(t,e)}function d(e){var t="/api/user/register";return l["a"].post(t,e)}var g=r("3f5e"),_={data:function(){var e=this,t=function(t,r,o){""===r?o(new Error("请再次输入密码")):r!==e.form.psd?o(new Error("两次输入密码不一致!")):o()},o=function(t,r,o){""===r?o(new Error("请輸入名稱")):r.length<3||r.length>10?o(new Error("长度在 3 到 10 个字符")):e.ck_user(e.form.name,o)};return{form:{logoUrl:r("0519"),name:"",psd:"",conpsd:"",factory:"",group:"",bussiness:"",bureau:"",departName:"",corporate:"",costCode:"",processRange:"",manager:"",tel:"",email:"",intro:""},rules:{name:[{required:!0,validator:o,trigger:"blur"}],psd:[{required:!0,message:"请输入密碼",trigger:"blur"}],conpsd:[{required:!0,validator:t,trigger:"blur"}],factory:[{required:!0,message:"请選擇廠區",trigger:"change"}],group:[{required:!0,message:"请選擇廠區",trigger:"change"}],bussiness:[{required:!0,message:"请選擇廠區",trigger:"change"}],bureau:[{required:!0,message:"请選擇廠區",trigger:"change"}],departName:[{required:!0,message:"單位名稱不能為空",trigger:"blur"},{min:4,max:15,message:"长度在 4 到 15 个字符",trigger:"blur"}],corporate:[{required:!0,message:"交易法人不能為空",trigger:"blur"}],costCode:[{required:!0,message:"費用代碼不能為空",trigger:"blur"}],processRange:[{required:!0,message:"加工範圍不能為空",trigger:"blur"}],manager:[{required:!0,message:"業務經理不能為空",trigger:"blur"}],tel:[{required:!0,message:"號碼不能为空",trigger:"blur"},{type:"number",message:"號碼必须为数字值"}],email:[{required:!0,message:"邮箱地址不能為空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],intro:[{max:50,message:"最長50個字符",trigger:"blur"}]},category:"",factory_list:null,SECN_CMPY_list:null,ENTRPS_GROUP_list:null,PD_OFFICE_list:null,user_pic_file:null}},created:function(){function e(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),r=window.location.search.substr(1).match(t);return null!=r?decodeURI(r[2]):null}this.category=e("category")},methods:{upImg:function(){this.$refs.fileInp.dispatchEvent(new MouseEvent("click"))},getFile:function(){var e=this,t=this.$refs.fileInp.files[0],r=window.URL||window.webkitURL;if(t){if("image/jpeg"!==t.type&&"image/png"!==t.type&&"image/gif"!==t.type)return void alert("請上傳圖片文件");var o=r.createObjectURL(t);this.form.logoUrl=o;var s=new FormData;s.append("file",t),s.append("file_type","user_pic"),Object(g["c"])(s).then((function(t){"1"===t.code&&(console.log(t.t),e.user_pic_file=t.t)}))}},ck_user:function(e,t){var r={username:e};c(r).then((function(e){"0"==e.code?t(new Error("賬戶已存在!")):t()}))},_query_factory_list:function(){var e=this,t={};u(t).then((function(t){"1"===t.code?e.factory_list=t.t:console.log("error")}))},_query_SECN_CMPY_list:function(){var e=this,t=this.form.factory;f(t).then((function(t){"1"===t.code?e.SECN_CMPY_list=t.t:console.log("error")}))},_query_ENTRPS_GROUP_list:function(){var e=this,t=this.form.group;p(t).then((function(t){"1"===t.code?e.ENTRPS_GROUP_list=t.t:console.log("error")}))},_query_PD_OFFICE_list:function(){var e=this,t=this.form.bussiness;m(t).then((function(t){"1"===t.code?e.PD_OFFICE_list=t.t:console.log("error")}))},submit:function(e,t){var r=this,o={username:this.form.name,password:this.form.psd,in_out_type:"in",send_recv_type:this.category,fctry_zone:this.form.factory,secn_cmpy:this.form.group,entrps_group:this.form.bussiness,pd_office:this.form.bureau,dept_name:this.form.departName,legal_person:this.form.corporate,cost_code:this.form.costCode,recv_mnufc_range:this.form.processRange,bank_name:"",bank_acunt:"",busis_mngr:this.form.manager,tel:this.form.tel,email:this.form.email,summary:this.form.intro,user_pic_file:this.user_pic_file};this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;r.$refs[t].validate((function(e){if(!e)return console.log("error submit!!"),!1;d(o).then((function(e){"1"===e.code?(console.log(e.msg),r.$router.push("/login")):alert("異常，請稍後重試！")}))}))}))},test:function(){}},components:{Top:a["a"],Logo:n["a"],Footer:i["a"]}},b=_,v=(r("81cc"),r("2877")),h=Object(v["a"])(b,o,s,!1,null,"7fd8f3b6",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-43417700.39337552.js.map