(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11f23d22"],{"10ba":function(e,t,l){},a5a2:function(e,t,l){"use strict";var a=l("cb35"),n=l.n(a);n.a},c1c2:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"order-summary"},[l("div",{staticClass:"info-box"},[l("m-info")],1),l("div",{staticClass:"table-box"},[l("div",{staticClass:"filt-box"},[l("m-filt",{on:{filtData:e.getFiltData}})],1),l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[l("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("p",{staticStyle:{color:"#0092ff"}},[e._v("訂單信息")]),l("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left","label-width":"120px",inline:""}},e._l(e.orderContract,(function(a){return l("el-form-item",{key:a.val,attrs:{label:a.label}},[l("span",[e._v(e._s(t.row[a.val]))])])})),1),l("p",{staticStyle:{"margin-top":"2rem",color:"#0092ff"}},[e._v("發單賬號信息")]),l("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left","label-width":"120px",inline:""}},e._l(e.sendAccountContract,(function(a){return l("el-form-item",{key:a.val,attrs:{label:a.label}},[l("span",[e._v(e._s(t.row.send_user[a.val]))])])})),1),l("p",{staticStyle:{"margin-top":"2rem",color:"#0092ff"}},[e._v("中標賬號信息")]),t.row.recv_user?l("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left","label-width":"120px",inline:""}},e._l(e.winAccountContract,(function(a){return l("el-form-item",{key:a.val,attrs:{label:a.label}},[l("span",[e._v(e._s(t.row.recv_user[a.val]))])])})),1):l("div",[e._v("暫無")]),l("p",{staticStyle:{"margin-top":"2rem",color:"#0092ff"}},[e._v("競標單位信息")]),t.row.give_recv_user_list?l("div",e._l(t.row.give_recv_user_list,(function(t,a){return l("div",{key:a+t},[l("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left","label-width":"120px",inline:""}},[e._l(e.recvAccountContract,(function(a){return l("el-form-item",{key:a.val,attrs:{label:a.label}},[l("span",[e._v(e._s(t[a.val]))])])})),l("el-form-item",{attrs:{label:"報價"}},[l("span",[e._v(e._s(t.give_price.total_price))])]),l("el-form-item",{attrs:{label:"是否中標"}},[l("span",[e._v(e._s("Y"===t.give_price.f_win_bid?"是":"否"))])])],2),l("hr")],1)})),0):l("div",[e._v("暫無")])]}}])}),l("el-table-column",{attrs:{label:"單號",prop:"bill_no"}}),l("el-table-column",{attrs:{label:"狀態",prop:"bill_status_zh"}}),l("el-table-column",{attrs:{label:"發單用戶",prop:"send_user.busis_mngr"}}),l("el-table-column",{attrs:{label:"中標用戶",prop:"recv_user.busis_mngr"}}),l("el-table-column",{attrs:{label:"接受總價",prop:"total_price"}}),l("el-table-column",{attrs:{label:"中標總價",prop:"give_price.total_price"}}),l("el-table-column",{attrs:{label:"時間"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.publish_date)+"\n        ")]}}])})],1),l("div",{staticClass:"paging"},[l("m-paging",{attrs:{total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{getCurrentPage:e.getListDate}})],1)],1)])},n=[],s=(l("7f7f"),l("ac4d"),l("8a81"),l("ac6a"),l("c5f6"),l("def5")),r=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"z-flex info"},e._l(e.statistics,(function(t){return l("div",{key:t.id,staticStyle:{color:"#0092ff"}},[l("div",[e._v("\n      "+e._s(t.num)+"\n    ")]),l("span",[e._v(e._s(t.name))])])})),0)},i=[],o=l("f8b7"),c={data:function(){return{statistics:{}}},created:function(){this.getStatistics()},methods:{getStatistics:function(){var e=this,t={};Object(o["b"])(t).then((function(t){if("1"===t.code){var l=t.t;e.statistics=[{ename:"total_send_num",name:"累計發單的總筆數",num:l.total_send_num,id:"3"},{ename:"total_send_money",name:"累計發單的總金額",num:l.total_send_money,id:"2"},{ename:"total_win_num",name:"累計中標的總筆數",num:l.total_win_num,id:"4"},{ename:"total_win_money",name:"累計中標的總金額",num:l.total_win_money,id:"1"}]}else e.$message.error(t.msg)}))}}},_=c,u=(l("f7e4"),l("2877")),v=Object(u["a"])(_,r,i,!1,null,"f6ed88b0",null),b=v.exports,d=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-row",{attrs:{gutter:20,type:"flex",justify:"space-between"}},[l("el-col",{attrs:{span:2}},[l("div",{staticClass:"grid-content"},[l("el-tooltip",{staticClass:"item",attrs:{content:"狀態",placement:"top"}},[l("el-select",{attrs:{placeholder:"请选择狀態"},model:{value:e.bill_status,callback:function(t){e.bill_status=t},expression:"bill_status"}},e._l(e.bill_status_list,(function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)]),l("el-col",{attrs:{span:3}},[l("div",{staticClass:"grid-content"},[l("el-tooltip",{staticClass:"item",attrs:{content:"接單方參與數",placement:"top"}},[l("el-select",{attrs:{placeholder:"请选择接單方個數"},model:{value:e.recv_num_type,callback:function(t){e.recv_num_type=t},expression:"recv_num_type"}},e._l(e.recv_num_type_list,(function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)]),l("el-col",{attrs:{span:5}},[l("div",{staticClass:"grid-content"},[l("el-input",{attrs:{placeholder:"请输入單號",clearable:""},model:{value:e.bill_no,callback:function(t){e.bill_no=t},expression:"bill_no"}})],1)]),l("el-col",{attrs:{span:5}},[l("div",{staticClass:"grid-content"},[l("el-input",{attrs:{placeholder:"请输入發單用戶賬號",clearable:""},model:{value:e.send_user_name,callback:function(t){e.send_user_name=t},expression:"send_user_name"}})],1)]),l("el-col",{attrs:{span:5}},[l("div",{staticClass:"grid-content"},[l("el-input",{attrs:{placeholder:"请输入接單用戶賬號",clearable:""},model:{value:e.recv_user_name,callback:function(t){e.recv_user_name=t},expression:"recv_user_name"}})],1)]),l("el-col",{attrs:{span:2}},[l("div",{staticClass:"grid-content z-flex z-justify-content-center"},[l("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleQueryBtnClick}},[e._v("查詢")])],1)])],1)],1)},m=[],p=l("c0e7"),f={data:function(){return{bill_status_list:[],bill_status:"",recv_num_type_list:[{id:"all",name:"全部"},{id:"single",name:"單個"},{id:"multiple",name:"多個"}],recv_num_type:"all",bill_no:"",send_user_name:"",recv_user_name:""}},created:function(){this.getStatusList()},methods:{handleQueryBtnClick:function(){var e=[{name:"bill_status",val:this.bill_status},{name:"bill_no",val:this.bill_no.trim()},{name:"send_user_name",val:this.send_user_name.trim()},{name:"recv_user_name",val:this.recv_user_name.trim()},{name:"recv_num_type",val:this.recv_num_type.trim()}];this.$emit("filtData",e)},getStatusList:function(){var e=this,t={};Object(p["c"])(t).then((function(t){if("1"===t.code){e.bill_status_list=t.t;var l=!0,a=!1,n=void 0;try{for(var s,r=e.bill_status_list[Symbol.iterator]();!(l=(s=r.next()).done);l=!0){var i=s.value;"all"==i.id&&(e.bill_status=i.id)}}catch(o){a=!0,n=o}finally{try{l||null==r.return||r.return()}finally{if(a)throw n}}}else e.$message.error(t.msg)}))}}},h=f,y=(l("a5a2"),Object(u["a"])(h,d,m,!1,null,"4c95a9dd",null)),g=y.exports,w=[{val:"pd_type",label:"類型"},{val:"create_date",label:"創建時間"},{val:"bid_range",label:"開標範圍"},{val:"publish_date",label:"發佈時間"},{val:"deliver_address",label:"交貨地點"},{val:"deliver_date",label:"交貨時間"},{val:"tel",label:"聯繫電話"},{val:"bid_start_date",label:"競標開始時間"},{val:"money_type",label:"貨幣種類"},{val:"bid_end_date",label:"競標結束時間"},{val:"deliver_way",label:"交貨方式"},{val:"make_requ",label:"製作要求"}],C=[{val:"username",label:"發單用戶"},{val:"tel",label:"聯繫電話"},{val:"fctry_zone",label:"廠區"},{val:"phone",label:"聯繫手機"},{val:"secn_cmpy",label:"次集團"},{val:"email",label:"Email"},{val:"entrps_group",label:"事業群"},{val:"create_date",label:"創建時間"},{val:"pd_office",label:"產品處"},{val:"latest_login_time",label:"上次登錄時間"},{val:"dept_name",label:"單位名稱"},{val:"dept_code",label:"單位代碼"},{val:"legal_person",label:"法人"},{val:"cost_code",label:"費用代碼"},{val:"busis_mngr",label:"業務窗口"},{val:"summary",label:"簡介"}],x=[{val:"username",label:"中標用戶"},{val:"tel",label:"聯繫電話"},{val:"fctry_zone",label:"廠區"},{val:"phone",label:"聯繫手機"},{val:"secn_cmpy",label:"次集團"},{val:"email",label:"Email"},{val:"entrps_group",label:"事業群"},{val:"create_date",label:"創建時間"},{val:"pd_office",label:"產品處"},{val:"latest_login_time",label:"上次登錄時間"},{val:"dept_name",label:"單位名稱"},{val:"dept_code",label:"單位代碼"},{val:"legal_person",label:"法人"},{val:"cost_code",label:"費用代碼"},{val:"busis_mngr",label:"業務窗口"},{val:"recv_range_list_str",label:"加工範圍"},{val:"summary",label:"簡介"}],S=[{val:"username",label:"競標用戶"},{val:"tel",label:"聯繫電話"},{val:"fctry_zone",label:"廠區"},{val:"phone",label:"聯繫手機"},{val:"secn_cmpy",label:"次集團"},{val:"email",label:"Email"},{val:"entrps_group",label:"事業群"},{val:"dept_name",label:"單位名稱"},{val:"pd_office",label:"產品處"},{val:"busis_mngr",label:"業務窗口"}],z=[{val:"-2",status_zh:"已棄標"},{val:"-1",status_zh:"已流標"},{val:"0",status_zh:"待發佈"},{val:"1",status_zh:"待報價"},{val:"2",status_zh:"待發貨"},{val:"3",status_zh:"待收貨"},{val:"4",status_zh:"待付款"},{val:"5",status_zh:"待收款"},{val:"6",status_zh:"已完成"}],k={data:function(){return{total:60,currentPage:1,pageSize:11,tableData:[],filtData:{bill_status:"",bill_no:"",send_user_name:"",recv_user_name:"",recv_num_type:""},orderContract:w,sendAccountContract:C,winAccountContract:x,recvAccountContract:S,statusContract:z}},created:function(){var e=Number(sessionStorage.getItem("adminOrderSummary"));e=e||1,this.getListDate(e)},components:{MPaging:s["a"],MInfo:b,MFilt:g},filters:{},methods:{getFiltData:function(e){var t=!0,l=!1,a=void 0;try{for(var n,s=e[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){var r=n.value;this.filtData[r.name]=r.val}}catch(i){l=!0,a=i}finally{try{t||null==s.return||s.return()}finally{if(l)throw a}}this.loadingData()},handleData:function(e){console.log(e);var t=!0,l=!1,a=void 0;try{for(var n,s=e[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){var r=n.value,i=!0,o=!1,c=void 0;try{for(var _,u=this.statusContract[Symbol.iterator]();!(i=(_=u.next()).done);i=!0){var v=_.value;r.bill_status===v.val&&(r.bill_status_zh=v.status_zh)}}catch(w){o=!0,c=w}finally{try{i||null==u.return||u.return()}finally{if(o)throw c}}if(r.recv_user){var b=r.recv_user.recv_range_list,d="",m=!0,p=!1,f=void 0;try{for(var h,y=b[Symbol.iterator]();!(m=(h=y.next()).done);m=!0){var g=h.value;d=d+g.name+"、"}}catch(w){p=!0,f=w}finally{try{m||null==y.return||y.return()}finally{if(p)throw f}}r.recv_user.recv_range_list_str=d}}}catch(w){l=!0,a=w}finally{try{t||null==s.return||s.return()}finally{if(l)throw a}}this.tableData=e},loadingData:function(){var e=this,t={bid_range:"集團",deliver_address:"all",deliver_date:"all",pd_type:"all",pageIndex:this.currentPage,pageSize:this.pageSize,bill_status:this.filtData.bill_status||"all",bill_no:this.filtData.bill_no,send_user_name:this.filtData.send_user_name,recv_user_name:this.filtData.recv_user_name,recv_num_type:this.filtData.recv_num_type};Object(o["d"])(t).then((function(t){"1"===t.code?(e.total=t.t.row_total,e.handleData(t.t.bill_list)):e.$message.error(t.msg)}))},getListDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentPage=Number(e),sessionStorage.setItem("adminOrderSummary",this.currentPage),this.loadingData()}}},D=k,j=(l("d8c5"),Object(u["a"])(D,a,n,!1,null,null,null));t["default"]=j.exports},cb35:function(e,t,l){},d8c5:function(e,t,l){"use strict";var a=l("de8b"),n=l.n(a);n.a},de8b:function(e,t,l){},f7e4:function(e,t,l){"use strict";var a=l("10ba"),n=l.n(a);n.a}}]);
//# sourceMappingURL=chunk-11f23d22.f04420cd.js.map