(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c862bc2c"],{1169:function(t,e,i){var n=i("2d95");t.exports=Array.isArray||function(t){return"Array"==n(t)}},"37c8":function(t,e,i){e.f=i("2b4c")},"3a72":function(t,e,i){var n=i("7726"),r=i("8378"),s=i("2d00"),o=i("37c8"),a=i("86cc").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=s?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:o.f(t)})}},"3ebc":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return s}));var n=i("fcc2");function r(){var t=encodeURIComponent(n["a"].userInfo.user_pic_file.file_save_path),e=encodeURIComponent(n["a"].userInfo.user_pic_file.file_save_name),i=encodeURIComponent(n["a"].userInfo.user_pic_file.file_origin_name),r="/api/pic_show/load",s=r+"?file_save_path="+t+"&file_save_name="+e+"&file_origin_name="+i;return s}function s(t,e,i){var n=encodeURIComponent(t),r=encodeURIComponent(e),s=encodeURIComponent(i),o="/api/pic_show/load",a=o+"?file_save_path="+n+"&file_save_name="+r+"&file_origin_name="+s;return a}},"67ab":function(t,e,i){var n=i("ca5a")("meta"),r=i("d3f4"),s=i("69a8"),o=i("86cc").f,a=0,l=Object.isExtensible||function(){return!0},c=!i("79e5")((function(){return l(Object.preventExtensions({}))})),d=function(t){o(t,n,{value:{i:"O"+ ++a,w:{}}})},f=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,n)){if(!l(t))return"F";if(!e)return"E";d(t)}return t[n].i},u=function(t,e){if(!s(t,n)){if(!l(t))return!0;if(!e)return!1;d(t)}return t[n].w},_=function(t){return c&&v.NEED&&l(t)&&!s(t,n)&&d(t),t},v=t.exports={KEY:n,NEED:!1,fastKey:f,getWeak:u,onFreeze:_}},"7bbc":function(t,e,i){var n=i("6821"),r=i("9093").f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return r(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==s.call(t)?a(t):r(n(t))}},8013:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.orderInfo?i("div",{staticClass:"main"},[i("Top"),i("Logo"),i("section",{attrs:{id:"content"}},[i("div",{staticClass:"wrapper type-area"},[i("div",{staticClass:"con-tag"},[i("ul",[i("li",[i("div",{staticClass:"tag_icon tag_collect",style:{backgroundImage:"url("+t.collectBg+")"},on:{click:t.collect}}),i("div",[t._v("收藏")])]),i("li",[i("div",{staticClass:"tag_icon tag_browse"}),i("div",[t._v("瀏覽:")]),i("div",{staticClass:"tag_browseNum"},[t._v(t._s(Math.floor(99*Math.random())+1)+"次")])])])]),i("div",{staticClass:"con-title"},[i("div",{staticClass:"tit-text"},[t._v("【治具】需求單號"+t._s(t.orderInfo.bill_no))]),i("div",{staticClass:"tit-info"},[i("div",{staticClass:"info-price info-single"},[t._v("標價: "+t._s("RMB"===t.orderInfo.money_type?"￥":"$")+t._s(t.orderInfo.total_price))]),i("div",{staticClass:"info-num info-single"},[t._v("需求數量: "+t._s(t.orderInfo.amount))]),i("div",{staticClass:"info-time info-single"},[t._v("投標截止日期: "+t._s(t.orderInfo.bid_end_date))])])]),i("div",{staticClass:"con-main"},[i("div",{staticClass:"panel_info"},[i("div",{staticClass:"pan_info_Top"},[i("div",{staticClass:"baseInfo"},[t._m(0),i("table",{staticClass:"ba_content"},[i("tr",[i("td",[t._v("需求單位")]),i("td",[t._v(":")]),i("td",{staticClass:"blueTd"},[i("span"),i("router-link",{staticStyle:{color:"#0096ff"},attrs:{to:"/merchant/information?pkid="+t.orderInfo.send_user.pkid}},[t._v(t._s(t.orderInfo.send_user.dept_name))])],1)]),i("tr",[i("td",[t._v("交易法人名稱")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.orderInfo.send_user.legal_person))])]),i("tr",[i("td",[t._v("交貨地點")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.orderInfo.deliver_address))])]),i("tr",[i("td",[t._v("競價開始時間")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.orderInfo.bid_start_date))])]),i("tr",[i("td",[t._v("競價結束時間")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.orderInfo.bid_end_date))])]),i("tr",[i("td",[t._v("實際交貨時間")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.orderInfo.deliver_date.split(" ")[0]))])]),i("tr",[i("td",[t._v("類型")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.orderInfo.pd_type))])]),i("tr",[i("td",[t._v("費用代碼")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.orderInfo.send_user.cost_code))])]),i("tr",[i("td",[t._v("接受總價")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.orderInfo.total_price))])]),i("tr",[i("td",[t._v("幣別")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.orderInfo.money_type))])]),i("tr",[i("td",[t._v("競標範圍")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.orderInfo.bid_range))])]),i("tr",[i("td",[t._v("交貨方式")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.orderInfo.deliver_way))])])])]),i("div",{staticClass:"accessory"},[t._m(1),i("div",{staticClass:"ac_content"},t._l(t.orderInfo.file_list,(function(e){return i("div",{key:e.pkid,staticClass:"ac_con_item",style:{cursor:"recv"==t.send_recv_type||"send"==t.send_recv_type?"pointer":"not-allowed"},on:{click:function(i){return t.downloadOne(e.file_save_path,e.file_save_name,e.file_origin_name)}}},[i("div",{staticClass:"item-wrapper"},[i("div",{staticClass:"itemIcon"}),i("div",{staticClass:"itemName"},[t._v(t._s(e.file_origin_name))])])])})),0),i("div",{staticClass:"ac_allDownload",style:{cursor:"recv"==t.send_recv_type||"send"==t.send_recv_type?"pointer":"not-allowed"},on:{click:t.downloadAll}},[t._v("全部下載")])])]),i("div",{staticClass:"pan_info_req"},[t._m(2),i("pre",{staticClass:"req_content"},[t._v(t._s(t.orderInfo.make_requ))])]),"send"!==t.send_recv_type?i("div",{staticClass:"pan_info_join",style:{cursor:"recv"==t.send_recv_type?"pointer":"not-allowed"},on:{click:function(e){return t.alertBoxShow()}}},[i("svg",{attrs:{width:"265px",height:"65px",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[i("polygon",{staticStyle:{fill:"none",stroke:"#0096FF","stroke-width":"1"},attrs:{points:"0,5 5,0 260,0 265,5 265,60 260,65 5,65 0,60 0,5"}}),i("rect",{staticStyle:{fill:"#0096FF"},style:{fill:"recv"==t.send_recv_type?"#0096FF":"0096FF"},attrs:{x:"2",y:"2",width:"261",height:"61"}}),i("polyline",{staticStyle:{fill:"none",stroke:"#3FB0FF","stroke-width":"2"},attrs:{points:"10,13 10,6 6,6 6,10 13,10 13,6 252,6 252,10 259,10 259,6 255,6 255,13 259,13 259,52 255,52 255,59 259,59 259,55 252,55 252,59 13,59 13,55 6,55 6,59 10,59 10,52 6,52 6,14 11,14"}})]),i("span",[t._v(t._s(t.joinFlag?"查看報價":"立即參與"))])]):t._e()]),i("div",{staticClass:"panel_info_sec"},[i("div",{staticClass:"biddingUnits"},[t._m(3),t.orderInfo.give_recv_user_list&&t.orderInfo.give_recv_user_list.length>0?i("div",{staticClass:"bid_content"},t._l(t.orderInfo.give_recv_user_list,(function(e){return i("div",{key:e.pkid,staticClass:"bid_con_item"},[i("div",{staticClass:"item-wrapper",class:{active:"Y"===e.f_win_bid}},[i("span",{staticClass:"icon"}),i("router-link",{attrs:{to:{path:"/merchant/information",query:{pkid:e.pkid}}}},[t._v(t._s(e.dept_name))])],1)])})),0):i("div",{staticClass:"bid_content"},[i("p",{staticStyle:{color:"#626f7f"}},[t._v("暫無投標")])])]),i("div",{staticClass:"evaluate"},[t._m(4),i("div",{staticClass:"eva_content"},[t.orderInfo.send_eval?i("p",[t._v("需求方："+t._s(t.orderInfo.send_eval.summary_text))]):t._e(),t.orderInfo.recv_eval?i("p",[t._v("接單方："+t._s(t.orderInfo.recv_eval.summary_text))]):t._e()])])])])])]),i("Footer"),i("section",{directives:[{name:"show",rawName:"v-show",value:t.alertBoxFlag,expression:"alertBoxFlag"}],attrs:{id:"alertBox"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"con_top"},[i("div",{staticClass:"boxName"},[t._v("接單競價")]),i("div",{staticClass:"closeBox",on:{click:t.alertBoxShow}})]),i("div",{staticClass:"con_form"},[i("div",{staticClass:"con_form_title"},[i("div",{staticClass:"tit_text"},[t._v("【治具】需求單號"+t._s(t.orderInfo.bill_no))]),i("div",{staticClass:"tit_info"},[i("div",{staticClass:"tit_info_single"},[t._v("標價: "+t._s(t.orderInfo.total_price)+t._s(t.orderInfo.money_type))]),i("div",{staticClass:"tit_info_single"},[t._v("需求數量: "+t._s(t.orderInfo.amount))]),i("div",{staticClass:"tit_info_single"},[t._v("交貨時間: "+t._s(t.orderInfo.deliver_date.split(" ")[0]))])])]),i("div",{staticClass:"con_form_listOne"},[i("div",{staticClass:"listOne_info"},[t._v("投標法人: "+t._s(t.orderInfo.send_user.legal_person))]),i("table",{staticClass:"listOne_table",attrs:{cellspacing:"0",cellpadding:"0"}},[i("tr",[i("th",[t._v("幣別")]),i("th",[t._v("總報價（"+t._s(t.orderInfo.money_type)+"）")]),i("th",[t._v("交期")]),i("th",[t._v("備註")])]),t.joinFlag?i("tr",[i("td",[t._v(t._s(t.orderInfo.money_type))]),i("td",[t._v(t._s(t.totalPrices*t.orderInfo.amount))]),i("td",[t._v(t._s(t.deliver_date.split(" ")[0]))]),i("td",[t._v(t._s(t.bidReason))])]):i("tr",[i("td",[t._v(t._s(t.orderInfo.money_type))]),i("td",[t._v(t._s(t.totalPrices*t.orderInfo.amount))]),i("td",[i("el-date-picker",{attrs:{type:"date",placeholder:t.orderInfo.deliver_date.split(" ")[0]},model:{value:t.deliver_date,callback:function(e){t.deliver_date=e},expression:"deliver_date"}})],1),i("td",[i("el-input",{attrs:{type:"textarea",maxlength:"50"},model:{value:t.bidReason,callback:function(e){t.bidReason=e},expression:"bidReason"}})],1)])])]),i("div",{staticClass:"con_form_listSec"},[t._m(5),i("table",{staticClass:"listSec_table",attrs:{cellspacing:"0",cellpadding:"0"}},[i("tr",[i("th",{staticStyle:{width:"80px"}},[t._v("序號")]),i("th",{staticStyle:{width:"290px"}},[t._v("零件名")]),i("th",{staticStyle:{width:"120px"}},[t._v("零件數量")]),i("th",{staticStyle:{width:"280px"}},[t._v("報價（"+t._s(t.orderInfo.money_type)+"/個）")]),i("th",{staticStyle:{width:"120px"}},[t._v("小計（"+t._s(t.orderInfo.money_type)+"）")]),i("th",{staticStyle:{width:"80px"}},[t._v("操作")])]),t._l(t.quotatList,(function(e,n){return i("tr",{key:e.id},[i("td",[t._v(t._s(n+1))]),i("td",[t._v(t._s(e.name.split(".")[0]))]),t.joinFlag?i("td",[t._v(t._s(e.num))]):i("td",[i("el-input",{staticClass:"el-input-text-center",staticStyle:{width:"100px"},attrs:{type:"number"},model:{value:e.num,callback:function(i){t.$set(e,"num",i)},expression:"item.num"}})],1),t.joinFlag?i("td",[t._v(t._s(e.price))]):i("td",[i("el-input",{staticClass:"el-input-text-center",staticStyle:{width:"160px"},attrs:{type:"number"},model:{value:e.price,callback:function(i){t.$set(e,"price",i)},expression:"item.price"}})],1),i("td",[t._v(t._s(e.num*e.price))]),t.joinFlag?i("td"):i("td",{staticStyle:{color:"#0096ff",cursor:"pointer"},on:{click:function(e){return t.delQuota(n)}}},[t._v("刪除")])])})),i("tr",[i("td",{directives:[{name:"show",rawName:"v-show",value:t.otherList.length,expression:"otherList.length"}],staticStyle:{height:"10px",background:"#c8d4de"},attrs:{colspan:"6"}},[t._v("自定義")])]),t._l(t.otherList,(function(e,n){return i("tr",{key:e.id},[i("td",[t._v(t._s(n+1))]),t.joinFlag?i("td",[t._v(t._s(e.selfDefineName))]):i("td",[i("el-input",{staticClass:"el-input-text-center",staticStyle:{width:"180px"},attrs:{placeholder:e.name,type:"text",maxlength:"25",disabled:t.joinFlag},model:{value:e.selfDefineName,callback:function(i){t.$set(e,"selfDefineName",i)},expression:"item.selfDefineName"}})],1),t.joinFlag?i("td",[t._v(t._s(e.num))]):i("td",[i("el-input",{staticClass:"el-input-text-center",staticStyle:{width:"100px"},attrs:{type:"number",placeholder:"1",disabled:t.joinFlag},model:{value:e.num,callback:function(i){t.$set(e,"num",i)},expression:"item.num"}})],1),t.joinFlag?i("td",[t._v(t._s(e.price))]):i("td",[i("el-input",{staticClass:"el-input-text-center",staticStyle:{width:"160px"},attrs:{type:"number",placeholder:"0",disabled:t.joinFlag},model:{value:e.price,callback:function(i){t.$set(e,"price",i)},expression:"item.price"}})],1),i("td",[t._v(t._s(e.num*e.price))]),t.joinFlag?i("td"):i("td",{staticStyle:{color:"#0096ff",cursor:"pointer"},on:{click:function(e){return t.delOther(n)}}},[t._v("刪除")])])})),i("tr",[i("td",[t._v("總計")]),i("td",{attrs:{colspan:"5"}},[t._v(t._s(t.totalPrices))])])],2),i("div",{staticClass:"listSec_opera"},[t.joinFlag?t._e():i("div",{staticClass:"listSec_add",on:{click:function(e){t.dialogVisible=!t.dialogVisible}}},[i("div",{staticClass:"addIcon"}),i("div",[t._v("添加報價選項")])]),t.joinFlag?t._e():i("div",{staticClass:"listSec_addS",on:{click:t.addNewLine}},[i("div",{staticClass:"addIcon"}),i("div",[t._v("添加自定義選項")])])])]),t.joinFlag?t._e():i("div",{staticClass:"con_form_footer"},[i("div",{staticClass:"foo_startBtn",on:{click:function(e){return t.checkBidding()}}},[i("svg",{attrs:{width:"265px",height:"65px",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[i("polygon",{staticStyle:{fill:"none",stroke:"#0096FF","stroke-width":"1"},attrs:{points:"0,5 5,0 260,0 265,5 265,60 260,65 5,65 0,60 0,5"}}),i("rect",{staticStyle:{fill:"#0096FF"},attrs:{x:"2",y:"2",width:"261",height:"61"}}),i("polyline",{staticStyle:{fill:"none",stroke:"#3FB0FF","stroke-width":"2"},attrs:{points:"10,13 10,6 6,6 6,10 13,10 13,6 252,6 252,10 259,10 259,6 255,6 255,13 259,13 259,52 255,52 255,59 259,59 259,55 252,55 252,59 13,59 13,55 6,55 6,59 10,59 10,52 6,52 6,14 11,14"}})]),i("span",[t._v("確認提交")])])]),t.joinFlag?i("span",{staticStyle:{display:"inline-block","margin-top":"20px",color:"#0096ff",cursor:"pointer"},on:{click:function(e){return t.checkList("uploaded")}}},[t._v("查看標書")]):t._e()])])]),i("el-dialog",{attrs:{title:"零件名稱",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),i("div",{staticStyle:{margin:"15px 0"}}),i("el-checkbox-group",{on:{change:t.handleCheckedComponentsChange},model:{value:t.checkedComponents,callback:function(e){t.checkedComponents=e},expression:"checkedComponents"}},t._l(t.components,(function(e){return i("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])})),1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addToQuotatList(),t.dialogVisible=!1}}},[t._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"提交",visible:t.dialogSecVisible},on:{"update:visible":function(e){t.dialogSecVisible=e}}},[i("p",[t._v("\n      您的單套報價清單為\n      "),i("span",{staticStyle:{"font-size":"28px"}},[t._v(t._s(t.totalPrices))]),t._v("，總報價為\n      "),i("span",{staticStyle:{"font-size":"28px"}},[t._v(t._s(t.totalPrices*t.orderInfo.amount))]),t._v(";\n    ")]),i("p",[t._v("\n      標書已生成,\n      "),i("router-link",{staticStyle:{color:"#0096ff"},attrs:{to:""},nativeOn:{click:function(e){return t.checkList(e)}}},[t._v("點擊查看")])],1),i("div",{staticClass:"foo_agreement"},[i("label",{attrs:{for:"agree"}},[i("input",{attrs:{id:"agree",type:"checkBox"},domProps:{checked:t.agree},on:{click:function(e){t.agree=!t.agree}}}),t._v("\n        我已仔细查看標書及相關協議內容，并对我提交的信息负责。\n      ")])]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogSecVisible=!1}}},[t._v("返 回")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.isAgree()}}},[t._v("确 定")])],1)])],1):t._e()},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ba_title"},[i("span",[t._v("基本信息")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ac_title"},[i("span",[t._v("圖檔附件")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"req_title"},[i("span",[t._v("製作要求")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bid_title"},[i("span",[t._v("競標單位")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"eva_title"},[i("span",[t._v("項目評價")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"listSec_info"},[i("div",[t._v("報價清單（單套）:")])])}],s=(i("8e6e"),i("456d"),i("bd86")),o=(i("c5f6"),i("7f7f"),i("ac4d"),i("8a81"),i("ac6a"),i("e9c9")),a=i("2241"),l=i("fd2d"),c=i("f8b7"),d=i("3ebc"),f=i("2f62");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(i,!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var v=[],p={data:function(){return{dialogVisible:!1,dialogSecVisible:!1,checkAll:!1,checkedComponents:[],components:[],isIndeterminate:!1,componentAllOptions:[],orderInfo:"",progress:[],collectFlag:!1,collectBg:i("b4a0"),alertBoxFlag:!1,accessoryData:[],deliver_date:"",bidReason:"",quotatList:[],otherList:[],joinFlag:!1,agree:!1,isCheckList:!1}},methods:{consoleLog:function(){},isAgree:function(){return this.isCheckList?this.agree?(this.upBidding(),void(this.dialogSecVisible=!1)):this.$message.error("請確認標書內容無誤,並勾選同意內容！"):this.$message.error("請先查看標書!")},checkList:function(t){if("uploaded"===t){sessionStorage.setItem("biddinfdDoc",JSON.stringify(this.orderInfo));var e="/biddingDoc?loaded=true&pkid="+this.pkid;window.open(e)}else{this.isCheckList=!0;var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=this.quotatList[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value,c={part_name:l.selfDefineName||l.name,part_doc_file_pkid:l.id,part_amunt:l.num,part_unit_price:l.price,part_price_sum:Number(l.num)*Number(l.price)};i.push(c)}}catch(y){r=!0,s=y}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}var d=!0,f=!1,u=void 0;try{for(var _,v=this.otherList[Symbol.iterator]();!(d=(_=v.next()).done);d=!0){var p=_.value,h={part_name:p.selfDefineName||p.name,part_doc_file_pkid:p.id,part_amunt:p.num,part_unit_price:p.price,part_price_sum:Number(p.num)*Number(p.price)};i.push(h)}}catch(y){f=!0,u=y}finally{try{d||null==v.return||v.return()}finally{if(f)throw u}}var m={orderInfo:this.orderInfo,total_price:this.totalPrices,deliver_date:this.deliver_date||new Date(this.orderInfo.deliver_date),descp:this.bidReason,slav_list:i};sessionStorage.setItem("biddinfdDoc",JSON.stringify(m));var g="/biddingDoc?loaded=false";window.open(g)}},addNewLine:function(){var t=this.otherList.length?this.otherList[this.otherList.length-1].id+1:1;this.otherList.push({selfDefineName:"",num:1,price:0,id:t,name:"其它"+t})},handleCheckAllChange:function(t){if(t){this.checkedComponents=[];var e=!0,i=!1,n=void 0;try{for(var r,s=v[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;this.checkedComponents.push(o)}}catch(a){i=!0,n=a}finally{try{e||null==s.return||s.return()}finally{if(i)throw n}}}else this.checkedComponents=[];this.isIndeterminate=!1},handleCheckedComponentsChange:function(t){var e=t.length;this.checkAll=e===this.components.length,this.isIndeterminate=e>0&&e<this.components.length},delQuota:function(t){this.checkedComponents.splice(t,1),this.addToQuotatList(),this.handleCheckedComponentsChange(this.checkedComponents)},delOther:function(t){this.otherList.splice(t,1)},collect:function(){this.collectFlag=!this.collectFlag,this.collectBg=this.collectFlag?i("a495"):i("b4a0")},alertBoxShow:function(){if("recv"==this.send_recv_type){var t=!this.alertBoxFlag;return this.alertBoxFlag=t}this.$message.warning("請先登錄！")},getInfo:function(){var t=this;Object(c["a"])(this.pkid).then((function(e){if("1"===e.code){if(t.orderInfo=e.t,t.isJoin(),t.joinFlag)return;t.componentAllOptions=[];var i=!0,n=!1,r=void 0;try{for(var s,o=t.orderInfo.file_list[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var a=s.value,l={id:a.pkid,name:a.file_origin_name,selfDefineName:"",num:a.part_amunt,price:0};t.componentAllOptions.push(l)}}catch(c){n=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(n)throw r}}t.detachment()}}))},detachment:function(){v=[];var t=!0,e=!1,i=void 0;try{for(var n,r=this.componentAllOptions[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var s=n.value;v.push(s.name)}}catch(o){e=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}this.components=v},addToQuotatList:function(){this.quotatList=[];var t=!0,e=!1,i=void 0;try{for(var n,r=this.checkedComponents[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var s=n.value,o=!0,a=!1,l=void 0;try{for(var c,d=this.componentAllOptions[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var f=c.value;s==f.name&&this.quotatList.push(f)}}catch(u){a=!0,l=u}finally{try{o||null==d.return||d.return()}finally{if(a)throw l}}}}catch(u){e=!0,i=u}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}},downloadOne:function(t,e,i){"recv"==this.send_recv_type||"send"==this.send_recv_type?window.open(Object(d["a"])(t,e,i)):this.$message.warning("請先登錄")},downloadAll:function(){var t=!0,e=!1,i=void 0;try{for(var n,r=this.orderInfo.file_list[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var s=n.value;this.downloadOne(s.file_save_path,s.file_save_name,s.file_origin_name)}}catch(o){e=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}},checkBidding:function(){if(this.joinFlag)return this.$message.warning("您已參與！");if(this.deliver_date){var t=(new Date).getTime(),e=new Date(t-3e5),i=new Date(new Date(this.orderInfo.deliver_date).getTime()+2592e6);if(new Date(this.deliver_date)<e)return this.$message.error("交期不能早於當前時間，請修改！");if(new Date(this.deliver_date)>i)return this.$message.error("交期不能延遲超過一個月，請修改！")}var n=!0,r=!1,s=void 0;try{for(var o,a=this.quotatList[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;if(!l.num)return this.$message.error("零件報價信息不完整");if(l.num<1)return this.$message.error("零件個數不正確");if(!l.price)return this.$message.error("零件報價信息不完整");if(l.price<1)return this.$message.error("零件報價不正確")}}catch(p){r=!0,s=p}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}var c=!0,d=!1,f=void 0;try{for(var u,_=this.otherList[Symbol.iterator]();!(c=(u=_.next()).done);c=!0){var v=u.value;if(!v.num)return this.$message.error("零件報價信息不完整");if(v.num<1)return this.$message.error("零件個數不正確");if(!v.price)return this.$message.error("零件報價信息不完整");if(v.price<1)return this.$message.error("零件報價不正確")}}catch(p){d=!0,f=p}finally{try{c||null==_.return||_.return()}finally{if(d)throw f}}if(this.totalPrices<1)return this.$message.error("請報價");this.dialogSecVisible=!this.dialogSecVisible,this.isCheckList=!1},upBidding:function(){var t=this,e=[],i=!0,n=!1,r=void 0;try{for(var s,o=this.quotatList[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var a=s.value,l={part_name:a.selfDefineName||a.name,part_doc_file_pkid:a.id,part_amunt:a.num,part_unit_price:a.price,part_price_sum:Number(a.num)*Number(a.price)};e.push(l)}}catch(g){n=!0,r=g}finally{try{i||null==o.return||o.return()}finally{if(n)throw r}}var d=!0,f=!1,u=void 0;try{for(var _,v=this.otherList[Symbol.iterator]();!(d=(_=v.next()).done);d=!0){var p=_.value,h={part_name:p.selfDefineName||p.name,part_doc_file_pkid:p.id,part_amunt:p.num,part_unit_price:p.price,part_price_sum:Number(p.num)*Number(p.price)};e.push(h)}}catch(g){f=!0,u=g}finally{try{d||null==v.return||v.return()}finally{if(f)throw u}}var m={bill_pkid:this.orderInfo.pkid,total_price:this.totalPrices,deliver_date:this.deliver_date||new Date(this.orderInfo.deliver_date),descp:this.bidReason,f_win_bid:"",slav_list:e};Object(c["q"])(m).then((function(e){"1"===e.code?(t.$message.success("上傳價格完成，請在個人中心查看詳情，祝您競價成功！"),t.$router.push("/")):t.$message.error("出錯啦，請稍後重試")}))},isJoin:function(){var t=this,e=!0,i=!1,n=void 0;try{for(var r,s=this.orderInfo.give_recv_user_list[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;if(o.pkid==this.my_pkid){var a=0;return Object(c["f"])(this.orderInfo.pkid).then((function(e){var i=!0,n=!1,r=void 0;try{for(var s,o=e.t.slav_list[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var l=s.value;if(l.part_doc_file){var c={id:l.pkid,name:l.part_doc_file.file_origin_name,selfDefineName:l.part_name,num:l.part_amunt,price:l.part_unit_price};t.quotatList.push(c)}else{a++;var d={id:a,selfDefineName:l.part_name,num:l.part_amunt,price:l.part_unit_price};t.otherList.push(d)}}}catch(f){n=!0,r=f}finally{try{i||null==o.return||o.return()}finally{if(n)throw r}}t.deliver_date=e.t.deliver_date,t.bidReason=e.t.descp})),this.joinFlag=!0}}}catch(l){i=!0,n=l}finally{try{e||null==s.return||s.return()}finally{if(i)throw n}}}},components:{Top:o["a"],Logo:a["a"],Footer:l["a"]},computed:_({},Object(f["c"])({send_recv_type:function(t){return t.userInfo?t.userInfo.send_recv_type:""},my_pkid:function(t){return t.userInfo?t.userInfo.pkid:""}}),{totalPrices:function(){var t=0;for(var e in this.quotatList)t+=this.quotatList[e].num*this.quotatList[e].price;for(var i in this.otherList)t+=this.otherList[i].num*this.otherList[i].price;return t}}),created:function(){this.pkid=this.$router.history.current.query.pkid,this.getInfo()}},h=p,m=(i("d425"),i("2877")),g=Object(m["a"])(h,n,r,!1,null,"4b9e7614",null);e["default"]=g.exports},"8a81":function(t,e,i){"use strict";var n=i("7726"),r=i("69a8"),s=i("9e1e"),o=i("5ca1"),a=i("2aba"),l=i("67ab").KEY,c=i("79e5"),d=i("5537"),f=i("7f20"),u=i("ca5a"),_=i("2b4c"),v=i("37c8"),p=i("3a72"),h=i("d4c0"),m=i("1169"),g=i("cb7c"),y=i("d3f4"),b=i("4bf8"),w=i("6821"),k=i("6a99"),C=i("4630"),S=i("2aeb"),I=i("7bbc"),x=i("11e9"),A=i("2621"),O=i("86cc"),F=i("0d58"),N=x.f,j=O.f,L=I.f,E=n.Symbol,B=n.JSON,D=B&&B.stringify,P="prototype",R=_("_hidden"),Q=_("toPrimitive"),q={}.propertyIsEnumerable,T=d("symbol-registry"),U=d("symbols"),V=d("op-symbols"),J=Object[P],$="function"==typeof E&&!!A.f,Y=n.QObject,Z=!Y||!Y[P]||!Y[P].findChild,G=s&&c((function(){return 7!=S(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=N(J,e);n&&delete J[e],j(t,e,i),n&&t!==J&&j(J,e,n)}:j,W=function(t){var e=U[t]=S(E[P]);return e._k=t,e},H=$&&"symbol"==typeof E.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof E},K=function(t,e,i){return t===J&&K(V,e,i),g(t),e=k(e,!0),g(i),r(U,e)?(i.enumerable?(r(t,R)&&t[R][e]&&(t[R][e]=!1),i=S(i,{enumerable:C(0,!1)})):(r(t,R)||j(t,R,C(1,{})),t[R][e]=!0),G(t,e,i)):j(t,e,i)},M=function(t,e){g(t);var i,n=h(e=w(e)),r=0,s=n.length;while(s>r)K(t,i=n[r++],e[i]);return t},z=function(t,e){return void 0===e?S(t):M(S(t),e)},X=function(t){var e=q.call(this,t=k(t,!0));return!(this===J&&r(U,t)&&!r(V,t))&&(!(e||!r(this,t)||!r(U,t)||r(this,R)&&this[R][t])||e)},tt=function(t,e){if(t=w(t),e=k(e,!0),t!==J||!r(U,e)||r(V,e)){var i=N(t,e);return!i||!r(U,e)||r(t,R)&&t[R][e]||(i.enumerable=!0),i}},et=function(t){var e,i=L(w(t)),n=[],s=0;while(i.length>s)r(U,e=i[s++])||e==R||e==l||n.push(e);return n},it=function(t){var e,i=t===J,n=L(i?V:w(t)),s=[],o=0;while(n.length>o)!r(U,e=n[o++])||i&&!r(J,e)||s.push(U[e]);return s};$||(E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var t=u(arguments.length>0?arguments[0]:void 0),e=function(i){this===J&&e.call(V,i),r(this,R)&&r(this[R],t)&&(this[R][t]=!1),G(this,t,C(1,i))};return s&&Z&&G(J,t,{configurable:!0,set:e}),W(t)},a(E[P],"toString",(function(){return this._k})),x.f=tt,O.f=K,i("9093").f=I.f=et,i("52a7").f=X,A.f=it,s&&!i("2d00")&&a(J,"propertyIsEnumerable",X,!0),v.f=function(t){return W(_(t))}),o(o.G+o.W+o.F*!$,{Symbol:E});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)_(nt[rt++]);for(var st=F(_.store),ot=0;st.length>ot;)p(st[ot++]);o(o.S+o.F*!$,"Symbol",{for:function(t){return r(T,t+="")?T[t]:T[t]=E(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in T)if(T[e]===t)return e},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),o(o.S+o.F*!$,"Object",{create:z,defineProperty:K,defineProperties:M,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:it});var at=c((function(){A.f(1)}));o(o.S+o.F*at,"Object",{getOwnPropertySymbols:function(t){return A.f(b(t))}}),B&&o(o.S+o.F*(!$||c((function(){var t=E();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))}))),"JSON",{stringify:function(t){var e,i,n=[t],r=1;while(arguments.length>r)n.push(arguments[r++]);if(i=e=n[1],(y(e)||void 0!==t)&&!H(t))return m(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!H(e))return e}),n[1]=e,D.apply(B,n)}}),E[P][Q]||i("32e9")(E[P],Q,E[P].valueOf),f(E,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},a495:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAABZklEQVQ4T6XUPY+MURQA4OeM7JKIrETIKlaiQSHZSkUixP4GhUolplghK1EobDQ+QkLsxm6j0vgLsqGhl21oTClGYxISZGaO3BnDjgzDvqd677nnfe5H7r1hY9zPrbp2mtJyNr4M9Q0aj3Kblik1H83H10E6eh/LeRD3hBPSJLp4LT3F4x/FZ4Q5HEJN+CY9wwX1eBOWclp4hT0jZzAumd6bNBuW8xYuj6sf03+7QOs4XAkK62Vpn4TtlaD0uUAdoVYJoluW1sTuitCHAq3hZCUorRXoEu5UgrgYHuQuNQ3s2CTWwv7Byb6K65uErqjHzT60khM6XuDIf2IvNR13Ldp9qMRSzogeNvOPWMMWR52Ld6X+F1Raq3lAu3dR9/0VSw3hlHq8Hb79G/9ayb06nuDYH7Dnwmnno5y/nzE8o0G6v2eLWMBEL53awg1Ni2VPfh9kNDSoepizuu723qe2BfNRnpuR8R1wwmXfZuF27gAAAABJRU5ErkJggg=="},ac4d:function(t,e,i){i("3a72")("asyncIterator")},b4a0:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAACvklEQVQ4T5WTS0hUYRTH/+feO47vwggtHyFBtQgEwUWmZFJEuYlgkNBkZhazKEQSbWbU4Io6c30F4SIKfJRpkkGB0AMTzR67pHBTC5UgK0ysfOWM986Jb9QYQ0PP6nC+//c7j+98hBA7XVxsToxJ2Kl/Wf7V0aEuhZ6t+VarGq7sNe2YnPv280lLi28tTsKxX6k5CJKvg+g4gDAAAQY+gNHPhC6hIUYBCCcJOARAAuAH8yDYKGlruPqRrOUNCZJsvAMQD0BkmAEQB8AczMYYZgIRkL2afZ2GGVMckNPI7vI2ACgH06BvcelsV4s6m6OqSsqikq6Qkh8g7uNAQJZIypNY6hmL/D0ypKp6QbEaa44MfwRi0UUj2V2eUYAOGwZn3W6seL3RXDaL2ZxaJhGLO6Nkc3rniRC1rCvRnU3lC9sBXShrjDIp+jwzFkRrhhje3NiI0tvbK/wtm8VikWP2p+vicQRoCsBuXTaS7tRVTW6ZAqCosjZRMeTPAL6L1gaIkMvElnZvxYPtgGwubz4BPWAeIKvTUyoRNTPwuF1z520HZHdqT0F8CsSXqcjt2aUwTTAjWgLltNa7hrcCs7m8uQQ8BzC7BKQGN9vm1KqIuIaZx3xEGd2a+8f/YCvJ8RagfQS4WjV3fRDkcNw06XEzYh8yGHgxPeM703dLXdwIZrmoRkfHmp8RkAnGm/EI3zGxoEFQsKrS2mQKkwUsmcEvl5b95+41q9OhsPMldfEREdJDAEfANOGXjaN3PZVfg38xVFjk9hyQmfoJSAH4EzhQ2FZf9UporG5PtsTUDSAJzBMgOtGmucfX/f5QWGFF3Z6wgHQfQJZYNDDfAJEBxiUQZAaGdN2X39mkiv37a+sqWos6HA7TclxqNQFlAEyrcZ2JtQmzv1rM5N/5bQhaE9mdWhqIr61URmVt9a73m73mH/1VFgn+1YL7AAAAAElFTkSuQmCC"},d425:function(t,e,i){"use strict";var n=i("fb7e"),r=i.n(n);r.a},d4c0:function(t,e,i){var n=i("0d58"),r=i("2621"),s=i("52a7");t.exports=function(t){var e=n(t),i=r.f;if(i){var o,a=i(t),l=s.f,c=0;while(a.length>c)l.call(t,o=a[c++])&&e.push(o)}return e}},fb7e:function(t,e,i){}}]);
//# sourceMappingURL=chunk-c862bc2c.7811bb5e.js.map