(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3620e70"],{"090d":function(t,e,i){},"0bb7":function(t,e,i){"use strict";var n=i("814e"),s=i.n(n);s.a},1598:function(t,e,i){},"1f6a":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"svg-btn"},[i("svg",{attrs:{width:"265px",height:"65px",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[i("polygon",{staticStyle:{fill:"none",stroke:"#0096FF","stroke-width":"1"},style:{stroke:t.outColor},attrs:{points:"0,5 5,0 260,0 265,5 265,60 260,65 5,65 0,60 0,5"}}),i("rect",{style:{fill:t.fillColor},attrs:{x:"2",y:"2",width:"261",height:"61"}}),i("polyline",{staticStyle:{fill:"none",stroke:"#3FB0FF","stroke-width":"2"},style:{stroke:t.inColor},attrs:{points:"10,13 10,6 6,6 6,10 13,10 13,6 252,6 252,10 259,10 259,6 255,6 255,13 259,13 259,52 255,52 255,59 259,59 259,55 252,55 252,59 13,59 13,55 6,55 6,59 10,59 10,52 6,52 6,14 11,14"}})])])},s=[],a={props:["inColor","outColor","fillColor"]},o=a,r=(i("e9eb"),i("2877")),l=Object(r["a"])(o,n,s,!1,null,"36ea827c",null);e["a"]=l.exports},"386b":function(t,e,i){var n=i("5ca1"),s=i("79e5"),a=i("be13"),o=/"/g,r=function(t,e,i,n){var s=String(a(t)),r="<"+e;return""!==i&&(r+=" "+i+'="'+String(n).replace(o,"&quot;")+'"'),r+">"+s+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(r),n(n.P+n.F*s((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",i)}},"3f9d":function(t,e,i){"use strict";var n=i("090d"),s=i.n(n);s.a},6689:function(t,e,i){},"673e":function(t,e,i){"use strict";i("386b")("sub",(function(t){return function(){return t(this,"sub","","")}}))},6984:function(t,e,i){},"7e1f":function(t,e,i){"use strict";var n=i("1598"),s=i.n(n);s.a},"814e":function(t,e,i){},9727:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"manage"},[i("div",{staticClass:"man-info"},[i("m-info")],1),i("div",{staticClass:"man-list"},[t._m(0),i("div",{staticClass:"flit z-flex z-justify-content-between"},t._l(t.flitList,(function(e,n){return i("div",{key:e.id,staticClass:"selet-admin-manage z-wid100",class:e.active?"active":"",on:{click:function(e){return t.handleFlitTypeClick(n)}}},[t._v("\n        "+t._s(e.scope)+":"+t._s(e.checkedItem.txt)+"\n        "),i("div",{staticClass:"flit-item-wrapper"},t._l(e.sub,(function(n,s){return i("p",{key:n.id,class:n.id==e.checkedItem.id?"active":"",on:{click:function(e){return t.handleFlitItemClick(s)}}},[t._v("\n            "+t._s(n.txt)+"\n          ")])})),0)])})),0),i("div",{staticClass:"table"},[i("m-table",{attrs:{tableList:t.tableList},on:{choosedData:t.getChoosedData,delSelection:t.getDelSelection}})],1),i("div",[i("details-alert",{attrs:{choosedData:t.choosedData},on:{choosedDataEmpty:t.setChoosedData}})],1),i("div",{staticClass:"del-btn",on:{click:t.handleDelBtnClick}},[i("svg-btn",{staticClass:"svgBtn",attrs:{inColor:t.delBtn.inColor,outColor:t.delBtn.outColor,fillColor:t.delBtn.fillColor}}),i("span",[t._v("刪除")])],1),i("div",{staticClass:"paging",staticStyle:{backgroundColor:"#D3DFE7"}},[i("Paging",{attrs:{total:t.total,"current-page":t.currentPage,"page-size":t.pageSize},on:{getCurrentPage:t.getListDate}})],1)])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"z-flex z-align-item-center title"},[i("span",[t._v("賬號管理")])])}],a=(i("673e"),i("c5f6"),i("ac4d"),i("8a81"),i("ac6a"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"z-flex info"},t._l(t.statistics,(function(e){return i("div",{key:e.id},[i("div",{style:{color:"wait_num"==e.ename&&e.num>0?"#ff0000":""}},[t._v("\n      "+t._s(e.num)+"\n    ")]),i("span",[t._v(t._s(e.name))])])})),0)}),o=[],r=i("c24f"),l={data:function(){return{statistics:{}}},created:function(){this.getStatistics()},methods:{getStatistics:function(){var t=this,e={};Object(r["e"])(e).then((function(e){if("1"===e.code){var i=e.t;t.statistics=[{ename:"total_num",name:"註冊賬號總數",num:i.total_num,id:"1"},{ename:"send_num",name:"發單方賬號總數",num:i.send_num,id:"2"},{ename:"recv_num",name:"接單方賬號總數",num:i.recv_num,id:"3"},{ename:"active_num",name:"活躍賬號總數",num:i.active_num,id:"4"},{ename:"inactive_num",name:"不活躍賬號總數",num:i.inactive_num,id:"5"},{ename:"wait_num",name:"待審核賬號總數",num:i.wait_num,id:"6"}]}else t.$message.error(e.msg)}))}}},c=l,d=(i("7e1f"),i("2877")),u=Object(d["a"])(c,a,o,!1,null,"2d5575ea",null),_=u.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table"},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableList,"tooltip-effect":"dark","row-class-name":t.tableRowClassName},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection","min-width":"55"}}),i("el-table-column",{attrs:{label:"用戶名","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.username))]}}])}),i("el-table-column",{attrs:{prop:"fctry_zone",label:"所屬廠區","min-width":"80"}}),i("el-table-column",{attrs:{prop:"dept_name",label:"單位名稱","min-width":"260"}}),i("el-table-column",{attrs:{prop:"tel",label:"固定電話","min-width":"100"}}),i("el-table-column",{attrs:{prop:"email",label:"Email","min-width":"340"}}),i("el-table-column",{attrs:{prop:"create_date",label:"申請時間","min-width":"180"}}),i("el-table-column",{attrs:{label:"活躍",type:"index","min-width":"48"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{style:{color:"Y"===e.row.f_active?"":"red"}},[t._v("\n          "+t._s("Y"===e.row.f_active?"是":"否")+"\n        ")])]}}])}),i("el-table-column",{attrs:{label:"操作","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{on:{click:function(i){return t.showAlert(e.row)}}},[t._v("\n          詳細信息\n        ")])]}}])})],1)],1)},f=[],m={data:function(){return{tableData:[],multipleSelection:[],styleClass:""}},props:{tableList:{type:Array,required:!0}},methods:{showAlert:function(t){this.$emit("choosedData",t)},tableRowClassName:function(t){var e=t.row;this.multipleSelection.map((function(t){return t.pkid===e.pkid?"del-row":""}))},handleSelectionChange:function(t){this.multipleSelection=t,this.$emit("delSelection",this.multipleSelection)}}},h=m,p=(i("bc45"),Object(d["a"])(h,v,f,!1,null,"63c725dc",null)),b=p.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.info?i("div",{staticClass:"details-alert"},[i("el-dialog",{attrs:{visible:t.dialogFormVisible,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("div",{staticClass:"title"},[t._v("\n      新用戶 "),i("span",[t._v(" "+t._s(t.info.dept_name)+" ")]),t._v(" 詳細信息\n      "),i("p",[t._v("注册时间："+t._s(t.info.create_date))])]),"send"==t.info.send_recv_type&&Boolean(t.info.send_user_statistics)?i("div",{staticClass:"z-flex z-justify-content-around account-data"},[i("div",[i("span",[t._v("發單量")]),i("div",[t._v(t._s(t.info.send_user_statistics.send_amount||0))])]),i("div",[i("span",[t._v("發單金額")]),i("div",[t._v(t._s(t.info.send_user_statistics.send_money||0))])]),i("div",[i("span",[t._v("選標金額")]),i("div",[t._v(t._s(t.info.send_user_statistics.pick_money||0))])]),i("div",[i("span",[t._v("棄標率")]),i("div",[t._v("\n          "+t._s((100*t.info.send_user_statistics.abandon_rate).toFixed(0)+"%"||!1)+"\n        ")])]),i("div",[i("span",[t._v("選標率")]),i("div",[t._v("\n          "+t._s((100*t.info.send_user_statistics.pick_rate).toFixed(0)+"%"||!1)+"\n        ")])]),i("div",[i("span",[t._v("流標率")]),i("div",[t._v("\n          "+t._s((100*t.info.send_user_statistics.flow_rate).toFixed(0)+"%"||!1)+"\n        ")])]),i("div",[i("span",[t._v("客戶評分")]),i("div",[t._v(t._s(t.info.send_user_statistics.user_score||0))])]),i("div",[i("span",[t._v("信譽分")]),i("div",[t._v(t._s(t.info.send_user_statistics.reputation||0))])])]):"recv"==t.info.send_recv_type&&Boolean(t.info.recv_user_statistics)?i("div",{staticClass:"z-flex z-justify-content-around account-data"},[i("div",[i("span",[t._v("接單量")]),i("div",[t._v(t._s(t.info.recv_user_statistics.recv_amount||0))])]),i("div",[i("span",[t._v("報價金額")]),i("div",[t._v(t._s(t.info.recv_user_statistics.offer_money||0))])]),i("div",[i("span",[t._v("中標金額")]),i("div",[t._v(t._s(t.info.recv_user_statistics.win_bid_money||0))])]),i("div",[i("span",[t._v("競標成功率")]),i("div",[t._v("\n          "+t._s((100*t.info.recv_user_statistics.win_bid_rate).toFixed(0)+"%"||!1)+"\n        ")])]),i("div",[i("span",[t._v("客戶評分")]),i("div",[t._v(t._s(t.info.recv_user_statistics.user_score||0))])])]):t._e(),i("div",{staticClass:"details z-flex z-justify-content-between"},[i("table",[i("tr",[i("th",{attrs:{colspan:"3"}},[t._v("\n            公司信息\n          ")])]),i("tr",[i("td",[t._v("賬號屬性")]),i("td",[t._v(":")]),i("td",[t._v("\n            集團內部賬號"),i("span",{staticClass:"z-cBlue"},[t._v("【"+t._s("send"==t.info.send_recv_type?"發佈方":"接單方")+"】\n            ")])])]),i("tr",[i("td",[t._v("賬號名稱")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.info.username))])]),i("tr",[i("td",[t._v("所屬廠區")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.info.fctry_zone))])]),i("tr",[i("td",[t._v("次集團")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.info.secn_cmpy))])]),i("tr",[i("td",[t._v("事業群")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.info.entrps_group))])]),i("tr",[i("td",[t._v("產品處")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.info.pd_office))])]),i("tr",[i("td",[t._v("交易法人")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.info.legal_person))])]),i("tr",[i("td",[t._v("費用代碼")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.info.cost_code))])])]),i("table",[i("tr",[i("th",{attrs:{colspan:"3"}},[t._v("\n            業務信息\n          ")])]),i("tr",[i("td",[t._v("業務窗口")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.info.busis_mngr))])]),i("tr",[i("td",[t._v("固定電話")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.info.tel))])]),i("tr",[i("td",[t._v("移動電話")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.info.phone))])]),i("tr",[i("td",[t._v("Email")]),i("td",[t._v(":")]),i("td",[t._v(t._s(t.info.email))])]),i("tr",{directives:[{name:"show",rawName:"v-show",value:"recv"==t.info.send_recv_type,expression:"info.send_recv_type == 'recv'"}]},[i("td",[t._v("加工範圍")]),i("td",[t._v(":")]),i("td",t._l(t.info.recv_range_list,(function(e){return i("span",{key:e.pkid},[t._v(t._s(e.name)+"、")])})),0)]),i("tr",[i("td",[t._v("簡介")]),i("td",[t._v(":")]),i("td",[i("p",[t._v("\n              "+t._s(t.info.summary)+"\n            ")])])])])])])],1):t._e()},y=[],w={data:function(){return{dialogFormVisible:!1,info:{}}},props:{choosedData:{type:Object,required:!0}},watch:{choosedData:function(t){var e=this;"{}"!=JSON.stringify(t)&&Object(r["g"])(t.pkid).then((function(t){"1"===t.code?(e.info=t.t,e.dialogFormVisible=!0):e.$message.error(t.msg)}))}},methods:{handleClose:function(t){this.$emit("choosedDataEmpty"),t()}}},C=w,k=(i("0bb7"),Object(d["a"])(C,g,y,!1,null,"24bdaecc",null)),S=k.exports,x=i("1f6a"),L=i("def5"),D=i("c0e7"),F={data:function(){return{choosedData:{},delBtn:{inColor:"#5B6573",outColor:"#485463",fillColor:"#485463"},flitList:[],total:null,currentPage:1,pageSize:8,tableList:[],delSelection:[]}},created:function(){this.getFlitList()},methods:{deleteAccuont:function(t){var e=this,i={user_pkid:t.pkid};Object(r["b"])(i).then((function(i){"1"===i.code?(e.getListDate(),e.$message.success("刪除成功: "+t.username)):(e.$message.error("刪除失敗: "+t.username),e.$message.error(i.msg))}))},handleDelBtnClick:function(){var t=this;if(0==this.delSelection.length)return this.$alert("當前沒有選中賬號","提示",{confirmButtonText:"確定",callback:function(){}});this.$confirm("此操作將永遠刪除選中賬號，是否繼續？","警告",{type:"error"}).then((function(){var e=!0,i=!1,n=void 0;try{for(var s,a=t.delSelection[Symbol.iterator]();!(e=(s=a.next()).done);e=!0){var o=s.value;t.deleteAccuont(o)}}catch(r){i=!0,n=r}finally{try{e||null==a.return||a.return()}finally{if(i)throw n}}})).catch((function(){t.$message({type:"info",message:"已取消"})}))},getDelSelection:function(t){this.delSelection=t},getFlitList:function(){var t=this,e={};Object(D["d"])(e).then((function(e){if("1"===e.code){t.flitList=e.t;var i=Number(sessionStorage.getItem("adminManCurrentPage"));i=i||1,t.getListDate(i)}else t.$message.error(e.msg)}))},getListDate:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentPage=Number(e),sessionStorage.setItem("adminManCurrentPage",this.currentPage);var i="",n="",s="",a="",o=!0,l=!1,c=void 0;try{for(var d,u=this.flitList[Symbol.iterator]();!(o=(d=u.next()).done);o=!0){var _=d.value;switch(_.val){case"factory":n=_.checkedItem.txt;break;case"business":s=_.checkedItem.txt;break;case"product":a=_.checkedItem.txt;break;case"type":i=_.checkedItem.txt;break}}}catch(f){l=!0,c=f}finally{try{o||null==u.return||u.return()}finally{if(l)throw c}}var v={send_recv_type:i,fctry_zone:n,secn_cmpy:"全部",entrps_group:s,pd_office:a,pageIndex:this.currentPage,pageSize:this.pageSize};Object(r["f"])(v).then((function(e){"1"===e.code?(t.tableList=e.t.list,t.total=e.t.row_total):t.$message.error(e.msg)}))},handleFlitItemClick:function(t){for(var e in this.flitList)if(1==this.flitList[e].active)return this.flitList[e].checkedItem=this.flitList[e].sub[t],void this.getListDate()},handleFlitTypeClick:function(t){if(1!=this.flitList[t].active){for(var e in this.flitList)this.flitList[e].active=!1;this.flitList[t].active=!0}else this.flitList[t].active=!1},setChoosedData:function(){this.choosedData={}},getChoosedData:function(t){this.choosedData=t},toggleFlit:function(t){var e=!0,i=!1,n=void 0;try{for(var s,a=this.flitList[Symbol.iterator]();!(e=(s=a.next()).done);e=!0){var o=s.value;o.active=!1}}catch(r){i=!0,n=r}finally{try{e||null==a.return||a.return()}finally{if(i)throw n}}switch(t){case"all":this.flitList[0].active=!0;break;case"recv":this.flitList[1].active=!0;break;case"send":this.flitList[2].active=!0;break}}},watch:{},components:{MInfo:_,MTable:b,DetailsAlert:S,SvgBtn:x["a"],Paging:L["a"]}},z=F,$=(i("3f9d"),Object(d["a"])(z,n,s,!1,null,"2a61daa5",null));e["default"]=$.exports},bc45:function(t,e,i){"use strict";var n=i("6689"),s=i.n(n);s.a},e9eb:function(t,e,i){"use strict";var n=i("6984"),s=i.n(n);s.a}}]);
//# sourceMappingURL=chunk-b3620e70.d4ff19c6.js.map