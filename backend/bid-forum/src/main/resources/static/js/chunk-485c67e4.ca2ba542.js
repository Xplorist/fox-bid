(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-485c67e4"],{"1af6":function(t,e,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"20fd":function(t,e,n){"use strict";var r=n("d9f6"),a=n("aebd");t.exports=function(t,e,n){e in t?r.f(t,e,a(0,n)):t[e]=n}},2539:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.data?n("div",{staticClass:"bb-home-wrapper"},[n("div",{staticClass:"container"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:16}},[n("div",{staticClass:"left-wrapper"},[n("div",{staticClass:"text"},[n("div",{staticClass:"information flex-start"},[n("el-avatar",{attrs:{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}},[t._v("\n                article\n              ")]),n("strong",{staticClass:"author-name"},[t._v("\n                "+t._s(t.data.creatorId.slice(0,8))+"\n              ")])],1),n("div",{staticClass:"title"},[n("h2",[t._v("\n                "+t._s(t.data.title)+"\n              ")]),n("div",{staticClass:"tag"},[n("span",[t._v("发布于：")]),n("span",[t._v(t._s(t.data.createTime))])])]),n("article",{staticClass:"article"},[n("div",{domProps:{innerHTML:t._s(t.data.content)}})])]),n("div",{staticClass:"comments"},[n("div",{staticClass:"commit-comment"},[n("CommentBox",{on:{handleConfirm:t.handleConfirm}})],1),t.data.replyList?n("div",{staticClass:"history-comments mt-20"},[n("div",{staticClass:"title flex-start"},[n("h3",[t._v("全部評論")]),n("span",[t._v("\n                  "+t._s(t.data.replyList.length)+"\n                ")])]),n("div",{staticClass:"comments-area mt-20"},[n("CommentsList",{attrs:{replyData:t.data}})],1)]):t._e()])])]),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"right-wrapper"},[t._v("\n          廣告/推薦/排行\n        ")])])],1)],1)]):t._e()},a=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-input",{attrs:{type:"textarea",rows:3,placeholder:"請輸入評論...",resize:"none"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}}),n("div",{staticClass:"opera-btn flex-end"},[n("el-button",{attrs:{type:"primary",size:"mini",round:""},on:{click:function(e){return t.handleConfirm()}}},[t._v("確定")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showCancel,expression:"showCancel"}],attrs:{size:"mini",round:""},on:{click:function(e){return t.handleCancel()}}},[t._v("取消")])],1)],1)},i=[],o={data:function(){return{textarea:""}},props:{showCancel:{type:Boolean},showBaseText:{type:Boolean,default:!1},baseText:{type:String,default:""}},watch:{showBaseText:function(t){this.textarea=t?this.baseText+" ":""},baseText:function(t){t&&(this.textarea=this.baseText+" ")}},methods:{handleCancel:function(){this.$emit("handleCancel",!0)},handleConfirm:function(){var t=this.baseText?this.textarea.slice(this.baseText.length+1):this.textarea;this.$emit("handleConfirm",t)}}},c=o,l=(n("2638"),n("2877")),u=Object(l["a"])(c,s,i,!1,null,"115f548e",null),d=u.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.comments,(function(e,r){return n("div",{key:e.id+r,staticClass:"commentWrapper"},[n("div",{staticClass:"comment"},[n("div",{staticClass:"commentator"},[n("span",[t._v(t._s(e.creatorId.slice(0,6)))]),n("span",[t._v(t._s(e.createTime))])]),n("p",[t._v(t._s(e.content))]),n("el-button",{staticClass:"mt-10",attrs:{icon:"el-icon-chat-round",size:"mini",round:""},on:{click:function(n){return t.handleReply(e)}}},[t._v("\n        回复\n      ")])],1),n("div",{staticClass:"child-comment"},[e.replyList?n("div",t._l(e.replyList,(function(r,a){return n("div",{key:r.id+a,staticClass:"commentWrapper"},[n("div",{staticClass:"comment"},[n("div",{staticClass:"commentator"},[n("span",[t._v(t._s(r.creatorId.slice(0,6)))]),n("span",[t._v(t._s(r.createTime))])]),n("p",[r.parentId?n("a",{staticClass:"comment-for",attrs:{href:""}},[t._v("\n                @"+t._s(r.parentId.slice(0,6))+"\n              ")]):t._e(),t._v("\n              "+t._s(r.content)+"\n            ")]),n("el-button",{staticClass:"mt-10",attrs:{icon:"el-icon-chat-round",size:"mini",round:""},on:{click:function(n){return t.handleReply(e,r)}}},[t._v("\n              回复\n            ")])],1)])})),0):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isReply&&t.commentId===e.id,expression:"isReply && commentId === item.id"}],staticClass:"comment-box mt-20"},[n("CommentBox",{attrs:{showCancel:!0,showBaseText:t.showBaseText,baseText:t.commentFor},on:{handleCancel:t.handleCancel,handleConfirm:t.handleConfirm}})],1)])])})),0)},f=[],p=n("a745"),h=n.n(p);function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t){if(h()(t))return v(t)}var b=n("774e"),C=n.n(b),x=n("c8bb"),_=n.n(x),g=n("67bb"),w=n.n(g);function I(t){if("undefined"!==typeof w.a&&_()(Object(t)))return C()(t)}function T(t,e){if(t){if("string"===typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?C()(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function A(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $(t){return y(t)||I(t)||T(t)||A()}var L=n("544e"),j={data:function(){return{comments:[],isReply:!1,commentId:"",replyId:"",commentFor:"",showBaseText:!1}},props:{replyData:{type:Object}},components:{CommentBox:d},created:function(){var t=this.replyData.replyList;for(var e in t)t[e].replyList&&t[e].replyList.length>0&&(t[e].replyList=this.handleComments(t[e].replyList));this.comments=t},methods:{handleComments:function(t){var e=[];for(var n in t)t[n].replyList&&t[n].replyList.length>0?(e.push(t[n]),e=[].concat($(e),$(this.handleComments(t[n].replyList)))):e.push(t[n]);return e},handleReply:function(t,e){e?(this.replyId=e.id,this.commentFor="@ ".concat(e.creatorId.slice(0,6))):(this.replyId=t.id,this.commentFor="@ ".concat(t.creatorId.slice(0,6))),this.isReply=!0,this.showBaseText=!0,this.commentId=t.id},handleCancel:function(){this.isReply=!1},handleConfirm:function(t){var e=this,n={replyType:"toReply",bbsPostId:this.replyData.id,parentId:this.replyId,content:t};Object(L["d"])(n).then((function(t){"1"===t.code?(e.$message.success("回復成功！"),e.$router.go(0)):e.$message.error(t.msg)}))}}},O=j,B=(n("338c"),Object(l["a"])(O,m,f,!1,null,"5507c2f6",null)),k=B.exports,R={data:function(){return{data:null}},components:{CommentBox:d,CommentsList:k},created:function(){this.$route.params.articleID?this.getData():this.$route.push("/")},methods:{getData:function(){var t=this,e={postId:this.$route.params.articleID};Object(L["a"])(e).then((function(e){"1"===e.code?t.data=e.t:t.$message.error(e.msg)}))},handleConfirm:function(t){var e=this,n={replyType:"toPost",bbsPostId:this.data.id,parentId:null,content:t};Object(L["d"])(n).then((function(t){"1"===t.code?(e.$message.success("回復成功！"),e.$router.go(0)):e.$message.error(t.msg)}))}}},D=R,S=(n("2979"),Object(l["a"])(D,r,a,!1,null,"1dc614d3",null));e["default"]=S.exports},2638:function(t,e,n){"use strict";var r=n("4cc6"),a=n.n(r);a.a},2979:function(t,e,n){"use strict";var r=n("b592"),a=n.n(r);a.a},"338c":function(t,e,n){"use strict";var r=n("bcd2"),a=n.n(r);a.a},3702:function(t,e,n){var r=n("481b"),a=n("5168")("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||s[a]===t)}},"40c3":function(t,e,n){var r=n("6b4c"),a=n("5168")("toStringTag"),s="Arguments"==r(function(){return arguments}()),i=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=i(e=Object(t),a))?n:s?r(e):"Object"==(o=r(e))&&"function"==typeof e.callee?"Arguments":o}},"4cc6":function(t,e,n){},"4ee1":function(t,e,n){var r=n("5168")("iterator"),a=!1;try{var s=[7][r]();s["return"]=function(){a=!0},Array.from(s,(function(){throw 2}))}catch(i){}t.exports=function(t,e){if(!e&&!a)return!1;var n=!1;try{var s=[7],o=s[r]();o.next=function(){return{done:n=!0}},s[r]=function(){return o},t(s)}catch(i){}return n}},"549b":function(t,e,n){"use strict";var r=n("d864"),a=n("63b6"),s=n("241e"),i=n("b0dc"),o=n("3702"),c=n("b447"),l=n("20fd"),u=n("7cd6");a(a.S+a.F*!n("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,a,d,m=s(t),f="function"==typeof this?this:Array,p=arguments.length,h=p>1?arguments[1]:void 0,v=void 0!==h,y=0,b=u(m);if(v&&(h=r(h,p>2?arguments[2]:void 0,2)),void 0==b||f==Array&&o(b))for(e=c(m.length),n=new f(e);e>y;y++)l(n,y,v?h(m[y],y):m[y]);else for(d=b.call(m),n=new f;!(a=d.next()).done;y++)l(n,y,v?i(d,h,[a.value,y],!0):a.value);return n.length=y,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"67bb":function(t,e,n){t.exports=n("f921")},"774e":function(t,e,n){t.exports=n("d2d5")},"7cd6":function(t,e,n){var r=n("40c3"),a=n("5168")("iterator"),s=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||s[r(t)]}},"95d5":function(t,e,n){var r=n("40c3"),a=n("5168")("iterator"),s=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[a]||"@@iterator"in e||s.hasOwnProperty(r(e))}},a745:function(t,e,n){t.exports=n("f410")},b0dc:function(t,e,n){var r=n("e4ae");t.exports=function(t,e,n,a){try{return a?e(r(n)[0],n[1]):e(n)}catch(i){var s=t["return"];throw void 0!==s&&r(s.call(t)),i}}},b592:function(t,e,n){},bcd2:function(t,e,n){},c8bb:function(t,e,n){t.exports=n("54a1")},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-485c67e4.ca2ba542.js.map